{"version":3,"file":"static/chunks/pages/settings/safe-apps-1cda36f5ebf0fead.js","mappings":"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","sources":["webpack://_N_E/?d44d","webpack://_N_E/./src/components/common/NavTabs/index.tsx","webpack://_N_E/./src/components/common/PageHeader/index.tsx","webpack://_N_E/./src/components/safe-apps/PermissionCheckbox.tsx","webpack://_N_E/./src/components/settings/SettingsHeader/index.tsx","webpack://_N_E/./src/components/settings/SafeAppsPermissions/index.tsx","webpack://_N_E/./src/components/settings/SafeAppsSigningMethod/index.tsx","webpack://_N_E/./src/pages/settings/safe-apps/index.tsx","webpack://_N_E/./src/components/common/NavTabs/styles.module.css","webpack://_N_E/./src/components/common/PageHeader/styles.module.css"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/settings/safe-apps\",\n      function () {\n        return require(\"private-next-pages/settings/safe-apps/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/settings/safe-apps\"])\n      });\n    }\n  ","import React, { forwardRef } from 'react'\nimport NextLink, { type LinkProps as NextLinkProps } from 'next/link'\nimport { Tab, Tabs, Typography, type TabProps } from '@mui/material'\nimport { useRouter } from 'next/router'\nimport type { NavItem } from '@/components/sidebar/SidebarNavigation/config'\nimport css from './styles.module.css'\n\ntype Props = TabProps & NextLinkProps\n\n// This is needed in order for the tabs to work properly with Next Link e.g. tabbing with the keyboard\n// Based on https://github.com/mui/material-ui/blob/master/examples/nextjs-with-typescript/src/Link.tsx\nconst NextLinkComposed = forwardRef<HTMLAnchorElement, Props>(function NextComposedLink(props: Props, ref) {\n  const { href, as, replace, scroll, shallow, prefetch, legacyBehavior = true, locale, ...other } = props\n\n  return (\n    <NextLink\n      href={href}\n      prefetch={prefetch}\n      as={as}\n      replace={replace}\n      scroll={scroll}\n      shallow={shallow}\n      passHref\n      locale={locale}\n      legacyBehavior={legacyBehavior}\n    >\n      {/* @ts-ignore */}\n      <a ref={ref} {...other} />\n    </NextLink>\n  )\n})\n\nconst NavTabs = ({ tabs }: { tabs: NavItem[] }) => {\n  const router = useRouter()\n  const activeTab = Math.max(0, tabs.map((tab) => tab.href).indexOf(router.pathname))\n  const query = router.query.safe ? { safe: router.query.safe } : undefined\n\n  return (\n    <Tabs value={activeTab} variant=\"scrollable\" allowScrollButtonsMobile className={css.tabs}>\n      {tabs.map((tab, idx) => (\n        <Tab\n          component={NextLinkComposed}\n          key={tab.href}\n          href={{ pathname: tab.href, query }}\n          className={css.tab}\n          label={\n            <Typography\n              variant=\"body2\"\n              fontWeight={700}\n              color={activeTab === idx ? 'primary' : 'primary.light'}\n              className={css.label}\n            >\n              {tab.label}\n            </Typography>\n          }\n        />\n      ))}\n    </Tabs>\n  )\n}\n\nexport default NavTabs\n","import { Box, Typography } from '@mui/material'\nimport classNames from 'classnames'\n\nimport type { ReactElement } from 'react'\n\nimport css from './styles.module.css'\n\nconst PageHeader = ({\n  title,\n  action,\n  noBorder,\n}: {\n  title: string\n  action?: ReactElement\n  noBorder?: boolean\n}): ReactElement => {\n  return (\n    <Box className={classNames(css.container, { [css.border]: !noBorder })}>\n      <Typography variant=\"h3\" className={css.title}>\n        {title}\n      </Typography>\n      {action}\n    </Box>\n  )\n}\n\nexport default PageHeader\n","import { Checkbox, FormControlLabel } from '@mui/material'\n\ntype PermissionsCheckboxProps = {\n  label: string\n  name: string\n  checked: boolean\n  onChange: (event: React.ChangeEvent<HTMLInputElement>, checked: boolean) => void\n}\n\nconst PermissionsCheckbox = ({ label, checked, onChange, name }: PermissionsCheckboxProps): React.ReactElement => (\n  <FormControlLabel\n    sx={({ palette }) => ({\n      flex: 1,\n      '.MuiIconButton-root:not(.Mui-checked)': {\n        color: palette.text.disabled,\n      },\n    })}\n    control={<Checkbox checked={checked} onChange={onChange} name={name} />}\n    label={label}\n  />\n)\n\nexport default PermissionsCheckbox\n","import type { ReactElement } from 'react'\n\nimport NavTabs from '@/components/common/NavTabs'\nimport PageHeader from '@/components/common/PageHeader'\nimport { generalSettingsNavItems, settingsNavItems } from '@/components/sidebar/SidebarNavigation/config'\nimport css from '@/components/common/PageHeader/styles.module.css'\nimport useSafeAddress from '@/hooks/useSafeAddress'\n\nconst SettingsHeader = (): ReactElement => {\n  const safeAddress = useSafeAddress()\n\n  return (\n    <PageHeader\n      title={safeAddress ? 'Settings' : 'Preferences'}\n      action={\n        <div className={css.navWrapper}>\n          <NavTabs tabs={safeAddress ? settingsNavItems : generalSettingsNavItems} />\n        </div>\n      }\n    />\n  )\n}\n\nexport default SettingsHeader\n","import { useSafeApps } from '@/hooks/safe-apps/useSafeApps'\nimport {\n  getBrowserPermissionDisplayValues,\n  getSafePermissionDisplayValues,\n  useBrowserPermissions,\n  useSafePermissions,\n} from '@/hooks/safe-apps/permissions'\nimport type { ReactElement } from 'react'\nimport { useCallback, useMemo } from 'react'\nimport type { AllowedFeatures } from '@/components/safe-apps/types'\nimport { PermissionStatus } from '@/components/safe-apps/types'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\nimport { Grid, Link, Paper, SvgIcon, Typography } from '@mui/material'\nimport PermissionsCheckbox from '@/components/safe-apps/PermissionCheckbox'\nimport DeleteIcon from '@/public/images/common/delete.svg'\n\nconst SafeAppsPermissions = (): ReactElement => {\n  const { allSafeApps } = useSafeApps()\n  const {\n    permissions: safePermissions,\n    updatePermission: updateSafePermission,\n    removePermissions: removeSafePermissions,\n    isUserRestricted,\n  } = useSafePermissions()\n  const {\n    permissions: browserPermissions,\n    updatePermission: updateBrowserPermission,\n    removePermissions: removeBrowserPermissions,\n  } = useBrowserPermissions()\n  const domains = useMemo(() => {\n    const mergedPermissionsSet = new Set(Object.keys(browserPermissions).concat(Object.keys(safePermissions)))\n\n    return Array.from(mergedPermissionsSet)\n  }, [safePermissions, browserPermissions])\n\n  const handleSafePermissionsChange = (origin: string, capability: string, checked: boolean) =>\n    updateSafePermission(origin, [{ capability, selected: checked }])\n\n  const handleBrowserPermissionsChange = (origin: string, feature: AllowedFeatures, checked: boolean) =>\n    updateBrowserPermission(origin, [{ feature, selected: checked }])\n\n  const updateAllPermissions = useCallback(\n    (origin: string, selected: boolean) => {\n      if (safePermissions[origin]?.length)\n        updateSafePermission(\n          origin,\n          safePermissions[origin].map(({ parentCapability }) => ({ capability: parentCapability, selected })),\n        )\n\n      if (browserPermissions[origin]?.length)\n        updateBrowserPermission(\n          origin,\n          browserPermissions[origin].map(({ feature }) => ({ feature, selected })),\n        )\n    },\n    [browserPermissions, safePermissions, updateBrowserPermission, updateSafePermission],\n  )\n\n  const handleAllowAll = useCallback(\n    (event: React.MouseEvent, origin: string) => {\n      event.preventDefault()\n      updateAllPermissions(origin, true)\n    },\n    [updateAllPermissions],\n  )\n\n  const handleClearAll = useCallback(\n    (event: React.MouseEvent, origin: string) => {\n      event.preventDefault()\n      updateAllPermissions(origin, false)\n    },\n    [updateAllPermissions],\n  )\n\n  const handleRemoveApp = useCallback(\n    (event: React.MouseEvent, origin: string) => {\n      event.preventDefault()\n      removeSafePermissions(origin)\n      removeBrowserPermissions(origin)\n    },\n    [removeBrowserPermissions, removeSafePermissions],\n  )\n\n  const appNames = useMemo(() => {\n    const appNames = allSafeApps.reduce((acc: Record<string, string>, app: SafeAppData) => {\n      acc[app.url] = app.name\n      return acc\n    }, {})\n\n    return appNames\n  }, [allSafeApps])\n\n  if (!allSafeApps.length) {\n    return <div />\n  }\n\n  return (\n    <Paper sx={{ padding: 4 }}>\n      <Typography variant=\"h4\" fontWeight={700}>\n        Safe Apps permissions\n      </Typography>\n      <br />\n      {!domains.length && (\n        <Typography variant=\"body1\" color={({ palette }) => palette.primary.light}>\n          There are no Safe Apps using permissions.\n        </Typography>\n      )}\n      {domains.map((domain) => (\n        <Grid\n          item\n          key={domain}\n          sx={({ palette, shape }) => ({\n            border: `1px solid ${palette.border.light}`,\n            borderRadius: shape.borderRadius,\n            marginBottom: '16px',\n          })}\n        >\n          <Grid\n            container\n            sx={({ palette }) => ({\n              padding: '15px 24px',\n              borderBottom: `1px solid ${palette.border.light}`,\n            })}\n          >\n            <Grid\n              item\n              xs={12}\n              sm={5}\n              sx={{\n                padding: '9px 0',\n              }}\n            >\n              <Typography variant=\"h5\" fontWeight={700}>\n                {appNames[domain]}\n              </Typography>\n              <Typography variant=\"body2\">{domain}</Typography>\n            </Grid>\n            <Grid container item xs={12} sm={7}>\n              {safePermissions[domain]?.map(({ parentCapability, caveats }) => {\n                return (\n                  <Grid key={parentCapability} item xs={12} sm={6} lg={4} xl={3}>\n                    <PermissionsCheckbox\n                      name={parentCapability}\n                      label={getSafePermissionDisplayValues(parentCapability).displayName}\n                      onChange={(_, checked: boolean) => handleSafePermissionsChange(domain, parentCapability, checked)}\n                      checked={!isUserRestricted(caveats)}\n                    />\n                  </Grid>\n                )\n              })}\n              {browserPermissions[domain]?.map(({ feature, status }) => {\n                return (\n                  <Grid key={feature} item xs={12} sm={6} lg={4} xl={3}>\n                    <PermissionsCheckbox\n                      name={feature.toString()}\n                      label={getBrowserPermissionDisplayValues(feature).displayName}\n                      onChange={(_, checked: boolean) => handleBrowserPermissionsChange(domain, feature, checked)}\n                      checked={status === PermissionStatus.GRANTED ? true : false}\n                    />\n                  </Grid>\n                )\n              })}\n            </Grid>\n          </Grid>\n          <Grid\n            container\n            item\n            justifyContent=\"flex-end\"\n            sx={{\n              padding: '12px 24px',\n            }}\n          >\n            <Link href=\"#\" onClick={(event) => handleAllowAll(event, domain)} sx={{ textDecoration: 'none' }}>\n              Allow all\n            </Link>\n            <Link\n              href=\"#\"\n              color=\"error\"\n              onClick={(event) => handleClearAll(event, domain)}\n              sx={{ textDecoration: 'none' }}\n              ml={2}\n            >\n              Clear all\n            </Link>\n            <Link href=\"#\" color=\"error\" onClick={(event) => handleRemoveApp(event, domain)} ml={2}>\n              <SvgIcon component={DeleteIcon} inheritViewBox color=\"error\" fontSize=\"small\" />\n            </Link>\n          </Grid>\n        </Grid>\n      ))}\n    </Paper>\n  )\n}\n\nexport default SafeAppsPermissions\n","import ExternalLink from '@/components/common/ExternalLink'\nimport { SETTINGS_EVENTS, trackEvent } from '@/services/analytics'\nimport { useAppDispatch, useAppSelector } from '@/store'\nimport { selectOnChainSigning, setOnChainSigning } from '@/store/settingsSlice'\nimport { FormControlLabel, Checkbox, Paper, Typography, FormGroup, Grid } from '@mui/material'\nimport { HelpCenterArticle } from '@/config/constants'\n\nexport const SafeAppsSigningMethod = () => {\n  const onChainSigning = useAppSelector(selectOnChainSigning)\n\n  const dispatch = useAppDispatch()\n\n  const onChange = () => {\n    trackEvent(SETTINGS_EVENTS.SAFE_APPS.CHANGE_SIGNING_METHOD)\n    dispatch(setOnChainSigning(!onChainSigning))\n  }\n\n  return (\n    <Paper sx={{ padding: 4, mt: 2 }}>\n      <Grid container spacing={3}>\n        <Grid item lg={4} xs={12}>\n          <Typography variant=\"h4\" fontWeight=\"bold\" mb={1}>\n            Signing method\n          </Typography>\n        </Grid>\n\n        <Grid item xs>\n          <Typography mb={2}>\n            This setting determines how the {'Safe{Wallet}'} will sign message requests from Safe Apps. Gasless,\n            off-chain signing is used by default. Learn more about message signing{' '}\n            <ExternalLink href={HelpCenterArticle.SIGNED_MESSAGES}>here</ExternalLink>.\n          </Typography>\n          <FormGroup>\n            <FormControlLabel\n              sx={({ palette }) => ({\n                flex: 1,\n                '.MuiIconButton-root:not(.Mui-checked)': {\n                  color: palette.text.disabled,\n                },\n              })}\n              control={<Checkbox checked={onChainSigning} onChange={onChange} name=\"use-on-chain-signing\" />}\n              label=\"Always use on-chain signatures\"\n            />\n          </FormGroup>\n        </Grid>\n      </Grid>\n    </Paper>\n  )\n}\n","import type { NextPage } from 'next'\nimport Head from 'next/head'\n\nimport SafeAppsPermissions from '@/components/settings/SafeAppsPermissions'\nimport SettingsHeader from '@/components/settings/SettingsHeader'\nimport { SafeAppsSigningMethod } from '@/components/settings/SafeAppsSigningMethod'\n\nconst SafeAppsPermissionsPage: NextPage = () => {\n  return (\n    <>\n      <Head>\n        <title>{'Safe{Wallet} – Settings – Safe Apps'}</title>\n      </Head>\n\n      <SettingsHeader />\n\n      <main>\n        <SafeAppsPermissions />\n        <SafeAppsSigningMethod />\n      </main>\n    </>\n  )\n}\n\nexport default SafeAppsPermissionsPage\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"styles_tabs__0HwOj\",\"tab\":\"styles_tab__kSwiT\",\"label\":\"styles_label__kLyY9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__dwmnI\",\"title\":\"styles_title__sN5vi\",\"border\":\"styles_border__3FL5Q\",\"pageHeader\":\"styles_pageHeader__E3fR_\",\"actionsWrapper\":\"styles_actionsWrapper__KFmOg\",\"navWrapper\":\"styles_navWrapper__3duqy\"};"],"names":["window","__NEXT_P","push","NextLinkComposed","forwardRef","props","ref","href","as","replace","scroll","shallow","prefetch","legacyBehavior","locale","other","NextLink","passHref","a","tabs","router","useRouter","activeTab","Math","max","map","tab","indexOf","pathname","query","safe","undefined","Tabs","value","variant","allowScrollButtonsMobile","className","css","idx","Tab","component","label","Typography","fontWeight","color","title","action","noBorder","Box","classNames","checked","onChange","name","FormControlLabel","sx","flex","palette","text","disabled","control","Checkbox","safeAddress","useSafeAddress","PageHeader","div","NavTabs","settingsNavItems","generalSettingsNavItems","useSafeApps","allSafeApps","useSafePermissions","permissions","updatePermission","removePermissions","isUserRestricted","useBrowserPermissions","domains","useMemo","mergedPermissionsSet","Set","Object","keys","browserPermissions","concat","safePermissions","Array","from","updateAllPermissions","useCallback","origin","selected","length","updateSafePermission","capability","parentCapability","updateBrowserPermission","feature","handleAllowAll","event","preventDefault","handleClearAll","handleRemoveApp","removeSafePermissions","removeBrowserPermissions","appNames","reduce","acc","app","url","Paper","padding","br","primary","light","domain","Grid","item","shape","border","borderRadius","marginBottom","container","borderBottom","xs","sm","caveats","lg","xl","PermissionsCheckbox","getSafePermissionDisplayValues","displayName","_","handleSafePermissionsChange","status","toString","getBrowserPermissionDisplayValues","handleBrowserPermissionsChange","PermissionStatus","justifyContent","Link","onClick","textDecoration","ml","SvgIcon","DeleteIcon","inheritViewBox","fontSize","SafeAppsSigningMethod","onChainSigning","useAppSelector","selectOnChainSigning","dispatch","useAppDispatch","mt","spacing","mb","ExternalLink","HelpCenterArticle","FormGroup","trackEvent","SETTINGS_EVENTS","setOnChainSigning","Head","SettingsHeader","main","SafeAppsPermissions","module","exports"],"sourceRoot":""}