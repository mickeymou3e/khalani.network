(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3692],{60888:function(e,n,r){"use strict";var t=r(91941);n.Z=void 0;var s=t(r(64938)),i=r(85893),o=(0,s.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");n.Z=o},92401:function(e,n,r){"use strict";r.d(n,{Z:function(){return j}});var t=r(32793),s=r(1048),i=r(67294),o=r(90512),a=r(94780),l=r(90948),c=r(71657),d=r(15861),h=r(1588),u=r(34867);function x(e){return(0,u.Z)("MuiAlertTitle",e)}(0,h.Z)("MuiAlertTitle",["root"]);var m=r(85893);const f=["className"],Z=(0,l.ZP)(d.Z,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,n)=>n.root})((({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2})));var j=i.forwardRef((function(e,n){const r=(0,c.Z)({props:e,name:"MuiAlertTitle"}),{className:i}=r,l=(0,s.Z)(r,f),d=r,h=(e=>{const{classes:n}=e;return(0,a.Z)({root:["root"]},x,n)})(d);return(0,m.jsx)(Z,(0,t.Z)({gutterBottom:!0,component:"div",ownerState:d,ref:n,className:(0,o.Z)(h.root,i)},l))}))},69875:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/setup",function(){return r(69583)}])},72486:function(e,n,r){"use strict";var t=r(14924),s=r(10253),i=r(85893),o=r(67294),a=r(99226),l=r(7906),c=r(295),d=r(53252),h=r(72882),u=r(53184),x=r(8896),m=r(53816),f=r(26280),Z=r(90629),j=r(13113),p=r(94184),v=r.n(p),w=r(71824),b=r.n(w),g=r(57922);function y(e,n,r){return n.cells[r].rawValue<e.cells[r].rawValue?-1:n.cells[r].rawValue>e.cells[r].rawValue?1:0}function C(e){var n=e.headCells,r=e.order,t=e.orderBy,s=e.onRequestSort;return(0,i.jsx)(u.Z,{children:(0,i.jsx)(m.Z,{children:n.map((function(e){return(0,i.jsx)(d.Z,{align:"left",padding:"normal",sortDirection:t===e.id&&r,sx:e.width?{width:e.width}:void 0,className:v()({sticky:e.sticky}),children:e.label&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(f.Z,{active:t===e.id,direction:t===e.id?r:"asc",onClick:(n=e.id,function(){s(n)}),children:[e.label,t===e.id?(0,i.jsx)(a.Z,{component:"span",sx:j.Z,children:"desc"===r?"sorted descending":"sorted ascending"}):null]})})},e.id);var n}))})})}var S=[10,25,100];n.Z=function(e){var n,r=e.rows,u=e.headCells,f=e.mobileVariant,j=(0,o.useState)("asc"),p=j[0],w=j[1],O=(0,o.useState)(""),E=O[0],_=O[1],A=(0,o.useState)(0),P=A[0],N=A[1],T=(0,o.useState)(S[1]),R=T[0],k=T[1],I=E?r.slice().sort(function(e,n){return"desc"===e?function(e,r){return y(e,r,n)}:function(e,r){return-y(e,r,n)}}(p,E)):r,B=I.slice(P*R,P*R+R);return(0,i.jsxs)(a.Z,{sx:{width:"100%"},children:[(0,i.jsx)(h.Z,{component:Z.Z,sx:{width:"100%",mb:2},children:(0,i.jsxs)(l.Z,{"aria-labelledby":"tableTitle",className:f?b().mobileColumn:void 0,children:[(0,i.jsx)(C,{headCells:u,order:p,orderBy:E,onRequestSort:function(e){w(E===e&&"asc"===p?"desc":"asc"),_(e)}}),(0,i.jsx)(c.Z,{children:B.length>0?B.map((function(e,r){return(0,i.jsx)(m.Z,{tabIndex:-1,selected:e.selected,className:e.collapsed?b().collapsedRow:void 0,children:Object.entries(e.cells).map((function(n){var o=(0,s.Z)(n,2),a=o[0],l=o[1];return(0,i.jsx)(d.Z,{className:v()((0,t.Z)({sticky:l.sticky},b().collapsedCell,e.collapsed)),children:(0,i.jsx)(g.Z,{in:!e.collapsed,enter:!1,children:l.content},r)},a)}))},null!==(n=e.key)&&void 0!==n?n:r)})):(0,i.jsx)(m.Z,{children:(0,i.jsx)(d.Z,{})})})]})}),r.length>B.length&&(0,i.jsx)(x.Z,{rowsPerPageOptions:S,component:"div",count:r.length,rowsPerPage:R,page:P,onPageChange:function(e,n){N(n)},onRowsPerPageChange:function(e){k(parseInt(e.target.value,10)),N(0)}})]})}},52774:function(e,n,r){"use strict";var t=r(26042),s=r(99534),i=r(85893),o=r(67294),a=r(41664),l=r.n(a),c=r(40044),d=r(88409),h=r(15861),u=r(11163),x=r(51039),m=r.n(x),f=(0,o.forwardRef)((function(e,n){var r=e.href,o=e.as,a=e.replace,c=e.scroll,d=e.shallow,h=e.prefetch,u=e.legacyBehavior,x=void 0===u||u,m=e.locale,f=(0,s.Z)(e,["href","as","replace","scroll","shallow","prefetch","legacyBehavior","locale"]);return(0,i.jsx)(l(),{href:r,prefetch:h,as:o,replace:a,scroll:c,shallow:d,passHref:!0,locale:m,legacyBehavior:x,children:(0,i.jsx)("a",(0,t.Z)({ref:n},f))})}));n.Z=function(e){var n=e.tabs,r=(0,u.useRouter)(),t=Math.max(0,n.map((function(e){return e.href})).indexOf(r.pathname)),s=r.query.safe?{safe:r.query.safe}:void 0;return(0,i.jsx)(d.Z,{value:t,variant:"scrollable",allowScrollButtonsMobile:!0,className:m().tabs,children:n.map((function(e,n){return(0,i.jsx)(c.Z,{component:f,href:{pathname:e.href,query:s},className:m().tab,label:(0,i.jsx)(h.Z,{variant:"body2",fontWeight:700,color:t===n?"primary":"primary.light",className:m().label,children:e.label})},e.href)}))})}},92613:function(e,n,r){"use strict";var t=r(14924),s=r(85893),i=r(99226),o=r(15861),a=r(94184),l=r.n(a),c=r(28962),d=r.n(c);n.Z=function(e){var n=e.title,r=e.action,a=e.noBorder;return(0,s.jsxs)(i.Z,{className:l()(d().container,(0,t.Z)({},d().border,!a)),children:[(0,s.jsx)(o.Z,{variant:"h3",className:d().title,children:n}),r]})}},71758:function(e,n,r){"use strict";var t=r(85893),s=r(52774),i=r(92613),o=r(98927),a=r(28962),l=r.n(a),c=r(91922);n.Z=function(){var e=(0,c.Z)();return(0,t.jsx)(i.Z,{title:e?"Settings":"Preferences",action:(0,t.jsx)("div",{className:l().navWrapper,children:(0,t.jsx)(s.Z,{tabs:e?o.vy:o.Mi})})})}},46834:function(e,n,r){"use strict";r.d(n,{W:function(){return u}});var t=r(10253),s=r(16849),i=r(81511),o=r(7844),a=r(52856),l=r(67294),c=r(94232),d=r(55999),h=r(74727),u=function(e){var n=(0,s.Z)(),r=(0,i.tM)(),u=(0,d.Z)(e,200),x=n[e],m=(0,h.FJ)(a.h6.DOMAIN_LOOKUP),f=!x&&m&&!!r&&!!u,Z=(0,t.Z)((0,c.Z)((function(){if(f)return(0,o.oC)(r,u)}),[r,u,f]),3),j=Z[0],p=(Z[1],Z[2]),v=f&&p;return(0,l.useMemo)((function(){return{ens:j,name:x,resolving:v}}),[j,x,v])}},69583:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return un}});var t,s=r(85893),i=r(9008),o=r.n(i),a=r(86886),l=r(90629),c=r(88078),d=r(53219),h=r(21023),u=r(15861),x=r(92924),m=r(10253),f=r(67294),Z=r(99226),j=r(46901),p=r(92401),v=r(83321),w=r(18831),b=r(8002),g=r(41117),y=r(47568),C=r(34051),S=r.n(C),O=r(94232),E=r(73936),_=r(9434);!function(e){e.GNOSIS="Gnosis",e.CIRCLES="Circles"}(t||(t={}));var A,P=function(e){var n=e.version.toLowerCase().includes(t.CIRCLES.toLowerCase()),r=e.version.indexOf("-");return{address:e.address,version:n?e.version.substring(0,r):e.version,deployer:n?t.CIRCLES:t.GNOSIS,deployerRepoUrl:n?"https://github.com/CirclesUBI/safe-contracts/releases":"https://github.com/gnosis/safe-contracts/releases"}},N=r(84177),T=r(60888),R=r(79509),k=r(22594),I=r(34636),B=r(74727),W=r(56564),D=r(12591),L=r(575),V=r(97413),z=r(89843),M=function(e,n){(0,L.WW)(e.version);var r=(0,D.s0)(n,b.Wu).getAddress(),t=(0,D.s0)(n,e.version),s=t.encode("changeMasterCopy",[r]),i=function(e,n,r){if(!(0,z.N)(V.SAFE_FEATURES.SAFE_FALLBACK_HANDLER,e.version))return"0x";var t=(0,D.rK)(n.chainId).getAddress();return r.encode("setFallbackHandler",[t])}(e,n,t);return[{to:e.address.value,value:"0",data:s,operation:W.OperationType.Call},{to:e.address.value,value:"0",data:i,operation:W.OperationType.Call}]},U=r(96030),F=r(52246),H=r(1458),q=function(){var e=(0,N.Z)(),n=e.safe,r=e.safeLoaded,t=(0,B.Ul)(),i=(0,f.useContext)(F.J),o=i.setSafeTx,a=i.setSafeTxError,l=i.setNonce;return(0,f.useEffect)((function(){if(t&&r){var e=M(n,t);(0,U.Fh)(e).then(o).catch(a)}}),[t,n,r,l,o,a]),(0,s.jsxs)(H.Z,{onSubmit:function(){return null},children:[(0,s.jsx)(u.Z,{mb:2,children:"Update now to take advantage of new features and the highest security standards available."}),(0,s.jsxs)(u.Z,{mb:2,children:["To check details about updates added by this smart contract version please visit"," ",(0,s.jsx)(I.Z,{href:"https://github.com/safe-global/safe-contracts/releases/tag/v".concat(b.Wu),children:"latest Safe Account contracts changelog"})]}),(0,s.jsx)(u.Z,{mb:2,children:"You will need to confirm this update just like any other transaction. This means other owners will have to confirm the update in case more than one confirmation is required for this Safe Account."}),(0,s.jsxs)(u.Z,{mb:2,children:[(0,s.jsx)("b",{children:"Warning:"})," this upgrade will invalidate all unexecuted transactions. This means you will be unable to access or execute them after the upgrade. Please make sure to execute any remaining transactions before upgrading."]})]})},G=r(43625),J=function(){return(0,s.jsx)(k.Z,{title:"Confirm transaction",subtitle:"Update Safe Account version",icon:G.Z,children:(0,s.jsx)(q,{})})},K=r(87909),Y=function(){var e=(0,f.useContext)(R.i).setTxFlow,n=(0,m.Z)(function(){var e=(0,E.ZP)(),n=function(){var n=(0,y.Z)(S().mark((function n(){var r;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,w.getMasterCopies)(e);case 3:return r=n.sent,n.abrupt("return",r.map(P));case 7:n.prev=7,n.t0=n.catch(0),(0,_.H)(_.D1._619,n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();return(0,O.Z)(n,[e])}(),1),r=n[0],i=(0,N.Z)(),o=i.safe,a=i.safeLoaded,l=o.implementation.value,h=(0,f.useMemo)((function(){return null===r||void 0===r?void 0:r.find((function(e){return(0,g.Ki)(e.address,l)}))}),[r,l]),C=o.implementationVersionState===w.ImplementationVersionState.OUTDATED,A=(null===h||void 0===h?void 0:h.deployer)===t.GNOSIS&&C;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{variant:"h4",fontWeight:700,marginBottom:1,children:"Contract version"}),(0,s.jsx)(u.Z,{variant:"body1",fontWeight:400,children:a?o.version?o.version:"Unsupported contract":(0,s.jsx)(c.Z,{width:"60px"})}),(0,s.jsx)(Z.Z,{mt:2,children:a?A?(0,s.jsxs)(j.Z,{sx:{borderRadius:"2px",borderColor:"#B0FFC9"},icon:(0,s.jsx)(d.Z,{component:x.Z,inheritViewBox:!0,color:"secondary"}),children:[(0,s.jsxs)(p.Z,{sx:{fontWeight:700},children:["New version is available: ",b.Wu]}),(0,s.jsxs)(u.Z,{mb:3,children:["Update now to take advantage of new features and the highest security standards available. You will need to confirm this update just like any other transaction."," ",(0,s.jsx)(I.Z,{href:null===h||void 0===h?void 0:h.deployerRepoUrl,children:"GitHub"})]}),(0,s.jsx)(K.Z,{children:function(n){return(0,s.jsx)(v.Z,{onClick:function(){return e((0,s.jsx)(J,{}))},variant:"contained",disabled:!n,children:"Update"})}})]}):(0,s.jsxs)(u.Z,{display:"flex",alignItems:"center",children:[(0,s.jsx)(T.Z,{color:"primary",sx:{mr:.5}})," Latest version"]}):null})]})},Q=r(26042),X=r(69396),$=r(65136),ee=r(96271),ne=r(94054),re=r(87109),te=r(98456),se=r(62023),ie=r(67720),oe=r(50135),ae=r(18972),le=r(87536),ce=r(10495),de=r(5169),he=r(46834),ue=r(6146),xe=r(17573),me=r(71135),fe=r.n(me),Ze="The threshold of a Safe Account specifies how many owners need to confirm a Safe Account transaction before it can be executed.";!function(e){e[e.REPLACE=0]="REPLACE",e[e.ADD=1]="ADD"}(A||(A={}));var je,pe=function(e){var n=e.params,r=e.onSubmit,t=e.mode,i=(0,N.Z)(),o=i.safe,l=i.safeAddress,c=(0,le.cI)({defaultValues:n,mode:"onChange"}),m=c.handleSubmit,f=c.formState,j=c.watch,p=c.control,w=0===Object.keys(f.errors).length,b=(0,ue.pd)(o.owners.map((function(e){return e.value}))),g=(0,ue.Ce)(l),y=j("newOwner.address"),C=(0,he.W)(y),S=C.name,O=C.ens,E=C.resolving,_=S||O,P=m((function(e){r((0,X.Z)((0,Q.Z)({},e),{newOwner:(0,X.Z)((0,Q.Z)({},e.newOwner),{name:e.newOwner.name||_}),threshold:e.threshold}))})),T=o.owners.length+(n.removedOwner?0:1);return(0,s.jsx)(xe.Z,{children:(0,s.jsx)(le.RV,(0,X.Z)((0,Q.Z)({},c),{children:(0,s.jsxs)("form",{onSubmit:P,className:fe().form,children:[n.removedOwner&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{variant:"body2",mb:1,children:n.removedOwner&&"Review the owner you want to replace in the active Safe Account, then specify the new owner you want to replace it with:"}),(0,s.jsxs)(Z.Z,{my:3,children:[(0,s.jsx)(u.Z,{variant:"body2",color:"text.secondary",mb:1,children:"Current owner"}),(0,s.jsx)($.Z,{address:n.removedOwner.address,showCopyButton:!0,shortAddress:!1,hasExplorer:!0})]})]}),(0,s.jsx)(ne.Z,{fullWidth:!0,children:(0,s.jsx)(de.Z,{label:"New owner",name:"newOwner.name",placeholder:_||"Owner name",InputLabelProps:{shrink:!0},InputProps:{endAdornment:E&&(0,s.jsx)(re.Z,{position:"end",children:(0,s.jsx)(te.Z,{size:20})})}})}),(0,s.jsx)(ne.Z,{fullWidth:!0,children:(0,s.jsx)(ce.Z,{name:"newOwner.address",label:"Owner address or ENS",validate:function(e){return b(e)||g(e)},required:!0})}),(0,s.jsx)(ie.Z,{className:fe().nestedDivider}),t===A.ADD&&(0,s.jsxs)(ne.Z,{fullWidth:!0,children:[(0,s.jsxs)(u.Z,{variant:"h6",fontWeight:700,mt:3,children:["Threshold",(0,s.jsx)(h.Z,{title:Ze,arrow:!0,placement:"top",children:(0,s.jsx)("span",{children:(0,s.jsx)(d.Z,{component:x.Z,inheritViewBox:!0,color:"border",fontSize:"small",sx:{verticalAlign:"middle",ml:.5}})})})]}),(0,s.jsx)(u.Z,{variant:"body2",mb:1,children:"Any transaction requires the confirmation of:"}),(0,s.jsxs)(a.ZP,{container:!0,direction:"row",alignItems:"center",gap:2,pt:1,children:[(0,s.jsx)(a.ZP,{item:!0,children:(0,s.jsx)(le.Qr,{control:p,name:"threshold",render:function(e){var r=e.field;return(0,s.jsxs)(oe.Z,(0,X.Z)((0,Q.Z)({select:!0},r),{children:[o.owners.map((function(e,n){return(0,s.jsx)(ae.Z,{value:n+1,children:n+1},n+1)})),!n.removedOwner&&(0,s.jsx)(ae.Z,{value:T,children:T},T)]}))}})}),(0,s.jsx)(a.ZP,{item:!0,children:(0,s.jsxs)(u.Z,{children:["out of ",T," owner(s)"]})})]})]}),(0,s.jsx)(ie.Z,{className:fe().nestedDivider}),(0,s.jsx)(se.Z,{children:(0,s.jsx)(v.Z,{variant:"contained",type:"submit",disabled:!w||E,children:"Next"})})]})}))})},ve=r(62687),we=r(89336),be=r(74604),ge=r(60415),ye=["title","titleId"];function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},Ce.apply(this,arguments)}function Se(e,n){if(null==e)return{};var r,t,s=function(e,n){if(null==e)return{};var r,t,s={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(s[r]=e[r]);return s}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var Oe,Ee,_e=function(e){var n=e.title,r=e.titleId,t=Se(e,ye);return f.createElement("svg",Ce({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},t),n?f.createElement("title",{id:r},n):null,je||(je=f.createElement("rect",{x:2.5,y:7,width:12,height:2,rx:1,fill:"currentColor"})))},Ae=function(e){var n=e.params,r=(0,we.TL)(),t=(0,f.useContext)(F.J),i=t.setSafeTx,o=t.setSafeTxError,a=(0,N.Z)().safe,c=a.chainId,h=n.newOwner,x=n.removedOwner,m=n.threshold;(0,f.useEffect)((function(){(x?(0,U.al)({newOwnerAddress:h.address,oldOwnerAddress:x.address}):(0,U.jP)({ownerAddress:h.address,threshold:m})).then(i).catch(o)}),[x,h,m,i,o]);return(0,s.jsxs)(H.Z,{onSubmit:function(){"undefined"!==typeof h.name&&r((0,be.W8)({chainId:c,address:h.address,name:h.name})),(0,ve.zj)((0,X.Z)((0,Q.Z)({},ve.iZ.SETUP.THRESHOLD),{label:a.threshold})),(0,ve.zj)((0,X.Z)((0,Q.Z)({},ve.iZ.SETUP.OWNERS),{label:a.owners.length}))},children:[n.removedOwner&&(0,s.jsxs)(l.Z,{sx:{backgroundColor:function(e){return e.palette.warning.background},p:2},children:[(0,s.jsxs)(u.Z,{color:"text.secondary",mb:2,display:"flex",alignItems:"center",children:[(0,s.jsx)(d.Z,{component:_e,inheritViewBox:!0,fontSize:"small",sx:{mr:1}}),"Previous owner"]}),(0,s.jsx)($.Z,{name:n.removedOwner.name,address:n.removedOwner.address,shortAddress:!1,showCopyButton:!0,hasExplorer:!0})]}),(0,s.jsxs)(l.Z,{sx:{backgroundColor:function(e){return e.palette.success.background},p:2},children:[(0,s.jsxs)(u.Z,{color:"text.secondary",mb:2,display:"flex",alignItems:"center",children:[(0,s.jsx)(d.Z,{component:ge.Z,inheritViewBox:!0,fontSize:"small",sx:{mr:1}}),"New owner"]}),(0,s.jsx)($.Z,{name:h.name,address:h.address,shortAddress:!1,showCopyButton:!0,hasExplorer:!0})]}),(0,s.jsx)(ie.Z,{className:fe().nestedDivider}),(0,s.jsxs)(Z.Z,{children:[(0,s.jsx)(u.Z,{variant:"body2",children:"Any transaction requires the confirmation of:"}),(0,s.jsxs)(u.Z,{children:[(0,s.jsx)("b",{children:m})," out of ",(0,s.jsxs)("b",{children:[a.owners.length+(x?0:1)," owners"]})]})]}),(0,s.jsx)(ie.Z,{className:fe().nestedDivider})]})},Pe=r(42633),Ne=function(){var e={newOwner:{address:"",name:""},threshold:(0,N.Z)().safe.threshold},n=(0,ee.Z)(e),r=n.data,t=n.step,i=n.nextStep,o=n.prevStep,a=[(0,s.jsx)(pe,{params:r,onSubmit:function(e){return i((0,Q.Z)({},r,e))},mode:A.ADD},0),(0,s.jsx)(Ae,{params:r},1)];return(0,s.jsx)(k.Z,{title:0===t?"New transaction":"Confirm transaction",subtitle:"Add owner",icon:Pe.Z,step:t,onBack:o,children:a})},Te=r(16849),Re=r(93946),ke=r(5869),Ie=r(3514),Be=r(71114),We=r(73294),De=r(31425),Le=r(6514),Ve=function(e){var n=e.chainId,r=e.address,t=e.name,i=(0,f.useState)(!1),o=i[0],a=i[1],l=(0,we.TL)(),c=function(){return a(!1)},u=(0,le.cI)({defaultValues:{name:t||""},mode:"onChange"}),x=u.handleSubmit,m=u.formState,j=(0,u.watch)("name"),p=!m.isValid||j===t||""===j;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ie.Z,(0,X.Z)((0,Q.Z)({},Be.i.SETUP.EDIT_OWNER),{children:(0,s.jsx)(h.Z,{title:"Edit owner",children:(0,s.jsx)(Re.Z,{onClick:function(){return a(!0)},size:"small",children:(0,s.jsx)(d.Z,{component:We.Z,inheritViewBox:!0,color:"border",fontSize:"small"})})})})),(0,s.jsx)(ke.Z,{open:o,onClose:c,dialogTitle:"Edit owner name",children:(0,s.jsx)(le.RV,(0,X.Z)((0,Q.Z)({},u),{children:(0,s.jsxs)("form",{onSubmit:x((function(e){e.name!==t&&(l((0,be.W8)({chainId:n,address:r,name:e.name})),c())})),children:[(0,s.jsxs)(Le.Z,{children:[(0,s.jsx)(Z.Z,{py:2,children:(0,s.jsx)(de.Z,{label:"Owner name",name:"name",required:!0})}),(0,s.jsx)(Z.Z,{py:2,children:(0,s.jsx)($.Z,{address:r,showCopyButton:!0,shortAddress:!1})})]}),(0,s.jsxs)(De.Z,{children:[(0,s.jsx)(v.Z,{onClick:c,children:"Cancel"}),(0,s.jsx)(v.Z,{type:"submit",variant:"contained",disabled:p,children:"Save"})]})]})}))})]})},ze=function(e){var n={newOwner:{address:""},removedOwner:{address:e.address},threshold:(0,N.Z)().safe.threshold},r=(0,ee.Z)(n),t=r.data,i=r.step,o=r.nextStep,a=r.prevStep,l=[(0,s.jsx)(pe,{params:t,onSubmit:function(e){return o((0,Q.Z)({},t,e))},mode:A.REPLACE},0),(0,s.jsx)(Ae,{params:t},1)];return(0,s.jsx)(k.Z,{title:0===i?"New transaction":"Confirm transaction",subtitle:"Replace owner",icon:Pe.Z,step:i,onBack:a,children:l})},Me=function(e){var n=e.params,r=(0,Te.Z)(),t=(0,f.useContext)(F.J),i=t.setSafeTx,o=t.setSafeTxError,a=(0,N.Z)().safe,c=n.removedOwner,h=n.threshold;(0,f.useEffect)((function(){(0,U.qg)({ownerAddress:c.address,threshold:h}).then(i).catch(o)}),[c.address,i,o,h]);var x=a.owners.length-1;return(0,s.jsxs)(H.Z,{onSubmit:function(){(0,ve.zj)((0,X.Z)((0,Q.Z)({},ve.iZ.SETUP.THRESHOLD),{label:a.threshold})),(0,ve.zj)((0,X.Z)((0,Q.Z)({},ve.iZ.SETUP.OWNERS),{label:a.owners.length}))},children:[(0,s.jsxs)(l.Z,{sx:{backgroundColor:function(e){return e.palette.warning.background},p:2},children:[(0,s.jsxs)(u.Z,{color:"text.secondary",mb:2,display:"flex",alignItems:"center",children:[(0,s.jsx)(d.Z,{component:_e,inheritViewBox:!0,fontSize:"small",sx:{mr:1}}),"Selected owner"]}),(0,s.jsx)($.Z,{address:c.address,name:r[c.address],shortAddress:!1,showCopyButton:!0,hasExplorer:!0})]}),(0,s.jsx)(ie.Z,{className:fe().nestedDivider}),(0,s.jsxs)(Z.Z,{m:1,children:[(0,s.jsx)(u.Z,{variant:"body2",color:"text.secondary",mb:.5,children:"Any transaction requires the confirmation of:"}),(0,s.jsxs)(u.Z,{children:[(0,s.jsx)("b",{children:h})," out of ",(0,s.jsx)("b",{children:x})," owners"]})]}),(0,s.jsx)(ie.Z,{className:fe().nestedDivider})]})},Ue=r(18360),Fe=function(e){var n=e.params,r=e.onSubmit,t=(0,N.Z)().safe,i=(0,f.useState)(n.threshold||1),o=i[0],l=i[1],c=t?t.owners.length-1:1;return(0,s.jsx)(xe.Z,{children:(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r((0,X.Z)((0,Q.Z)({},n),{threshold:o}))},children:[(0,s.jsxs)(Z.Z,{mb:3,children:[(0,s.jsx)(u.Z,{mb:2,children:"Review the owner you want to remove from the active Safe Account:"}),(0,s.jsx)($.Z,{address:n.removedOwner.address,shortAddress:!1,showCopyButton:!0,hasExplorer:!0})]}),(0,s.jsx)(ie.Z,{className:fe().nestedDivider}),(0,s.jsxs)(Z.Z,{my:3,children:[(0,s.jsxs)(u.Z,{variant:"h4",fontWeight:700,children:["Threshold",(0,s.jsx)(h.Z,{title:Ze,arrow:!0,placement:"top",children:(0,s.jsx)("span",{children:(0,s.jsx)(d.Z,{component:x.Z,inheritViewBox:!0,color:"border",fontSize:"small",sx:{verticalAlign:"middle",ml:.5}})})})]}),(0,s.jsx)(u.Z,{children:"Any transaction requires the confirmation of:"}),(0,s.jsxs)(a.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,mt:2,children:[(0,s.jsx)(a.ZP,{item:!0,xs:1.5,children:(0,s.jsx)(Ue.Z,{value:o,onChange:function(e){l(parseInt(e.target.value.toString()))},fullWidth:!0,children:t.owners.slice(1).map((function(e,n){return(0,s.jsx)(ae.Z,{value:n+1,children:n+1},n+1)}))})}),(0,s.jsx)(a.ZP,{item:!0,children:(0,s.jsxs)(u.Z,{children:["out of ",c," owner(s)"]})})]})]}),(0,s.jsx)(ie.Z,{className:fe().nestedDivider}),(0,s.jsx)(se.Z,{children:(0,s.jsx)(v.Z,{variant:"contained",type:"submit",children:"Next"})})]})})},He=function(e){var n=(0,N.Z)().safe,r={removedOwner:e,threshold:Math.min(n.threshold,n.owners.length-1)},t=(0,ee.Z)(r),i=t.data,o=t.step,a=t.nextStep,l=t.prevStep,c=[(0,s.jsx)(Fe,{params:i,onSubmit:function(e){return a((0,Q.Z)({},i,e))}},0),(0,s.jsx)(Me,{params:i},1)];return(0,s.jsx)(k.Z,{title:0===o?"New transaction":"Confirm transaction",subtitle:"Remove owner",icon:Pe.Z,step:o,onBack:l,children:c})},qe=r(72486),Ge=r(3817),Je=["title","titleId"];function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},Ke.apply(this,arguments)}function Ye(e,n){if(null==e)return{};var r,t,s=function(e,n){if(null==e)return{};var r,t,s={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(s[r]=e[r]);return s}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var Qe,Xe=function(e){var n=e.title,r=e.titleId,t=Ye(e,Je);return f.createElement("svg",Ke({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},t),n?f.createElement("title",{id:r},n):null,Oe||(Oe=f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.3615 16.7891L13.0765 15.4921C12.5635 15.2881 11.9805 15.5411 11.7795 16.0551C11.5765 16.5681 11.8285 17.1491 12.3415 17.3511L13.5075 17.8121C12.8325 18.0471 12.1215 18.1821 11.3975 18.1821H11.3825C9.1135 18.1771 6.9925 16.9541 5.8455 14.9911C5.5685 14.5151 4.9555 14.3531 4.4785 14.6321C4.0015 14.9101 3.8405 15.5221 4.1195 15.9991C5.6215 18.5721 8.4025 20.1751 11.3795 20.1821H11.3975C12.3535 20.1821 13.2945 20.0031 14.1875 19.6891L13.8275 20.6501C13.6335 21.1671 13.8955 21.7431 14.4135 21.9371C14.5285 21.9801 14.6465 22.0011 14.7635 22.0011C15.1685 22.0011 15.5495 21.7541 15.7005 21.3511L16.9305 18.0691C17.1225 17.5591 16.8695 16.9891 16.3615 16.7891Z"})),Ee||(Ee=f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.7932 5.6817C16.4722 5.6817 17.0232 6.2337 17.0232 6.9117C17.0232 7.5897 16.4722 8.1417 15.7932 8.1417C15.1152 8.1417 14.5642 7.5897 14.5642 6.9117C14.5642 6.2337 15.1152 5.6817 15.7932 5.6817ZM8.2052 3.9997C8.8832 3.9997 9.4352 4.5517 9.4352 5.2297C9.4352 5.9087 8.8832 6.4597 8.2052 6.4597C7.5262 6.4597 6.9752 5.9087 6.9752 5.2297C6.9752 4.5517 7.5262 3.9997 8.2052 3.9997ZM20.9352 13.0067C20.3092 11.3387 19.1242 10.1007 17.7072 9.4987C18.5012 8.9107 19.0232 7.9737 19.0232 6.9117C19.0232 5.1307 17.5742 3.6817 15.7932 3.6817C14.0132 3.6817 12.5642 5.1307 12.5642 6.9117C12.5642 7.9737 13.0862 8.9107 13.8802 9.4987C13.4832 9.6667 13.1022 9.8727 12.7502 10.1377C12.0892 9.0677 11.1722 8.2637 10.1182 7.8177C10.9122 7.2287 11.4352 6.2917 11.4352 5.2297C11.4352 3.4497 9.9852 1.9997 8.2052 1.9997C6.4242 1.9997 4.9752 3.4497 4.9752 5.2297C4.9752 6.2917 5.4972 7.2287 6.2912 7.8177C4.8742 8.4177 3.6892 9.6577 3.0642 11.3257C2.8702 11.8427 3.1322 12.4187 3.6482 12.6137C4.1652 12.8037 4.7422 12.5457 4.9372 12.0287C5.5332 10.4377 6.8162 9.4097 8.2052 9.4097C9.4932 9.4097 10.6842 10.3007 11.3262 11.6987C11.0642 12.1007 10.8312 12.5327 10.6522 13.0077C10.4592 13.5247 10.7212 14.1007 11.2382 14.2947C11.3542 14.3377 11.4722 14.3587 11.5892 14.3587C11.9932 14.3587 12.3752 14.1117 12.5252 13.7087C13.1222 12.1187 14.4042 11.0907 15.7932 11.0907C17.1822 11.0907 18.4652 12.1187 19.0622 13.7097C19.2562 14.2277 19.8322 14.4867 20.3502 14.2947C20.8662 14.1007 21.1282 13.5247 20.9352 13.0067Z"})))},$e=r(29091),en=r(71824),nn=r.n(en),rn=[{id:"owner",label:"Name"},{id:"actions",label:"",sticky:!0}],tn=function(){var e=(0,Te.Z)(),n=(0,N.Z)().safe,r=(0,f.useContext)(R.i).setTxFlow,t=(0,f.useMemo)((function(){var t=n.owners.length>1;return n.owners.map((function(i){var o=i.value,a=e[o];return{cells:{owner:{rawValue:o,content:(0,s.jsx)($.Z,{address:o,showCopyButton:!0,shortAddress:!1,showName:!0,hasExplorer:!0})},actions:{rawValue:"",sticky:!0,content:(0,s.jsxs)("div",{className:nn().actions,children:[(0,s.jsx)(K.Z,{children:function(e){return(0,s.jsx)(Ie.Z,(0,X.Z)((0,Q.Z)({},Be.i.SETUP.REPLACE_OWNER),{children:(0,s.jsx)(h.Z,{title:"Replace owner",children:(0,s.jsx)(Re.Z,{onClick:function(){return r((0,s.jsx)(ze,{address:o}))},size:"small",disabled:!e,children:(0,s.jsx)(d.Z,{component:Xe,inheritViewBox:!0,color:"border",fontSize:"small"})})})}))}}),(0,s.jsx)(Ve,{address:o,name:a,chainId:n.chainId}),t&&(0,s.jsx)(K.Z,{children:function(e){return(0,s.jsx)(Ie.Z,(0,X.Z)((0,Q.Z)({},Be.i.SETUP.REMOVE_OWNER),{children:(0,s.jsx)(h.Z,{title:"Remove owner",children:(0,s.jsx)(Re.Z,{onClick:function(){return r((0,s.jsx)(He,{name:a,address:o}))},size:"small",disabled:!e,children:(0,s.jsx)(d.Z,{component:$e.Z,inheritViewBox:!0,color:"error",fontSize:"small"})})})}))}})]})}}}}))}),[n.owners,n.chainId,e,r]);return(0,s.jsx)(Z.Z,{display:"flex",flexDirection:"column",gap:2,children:(0,s.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,s.jsx)(a.ZP,{item:!0,lg:4,xs:12,children:(0,s.jsx)(u.Z,{variant:"h4",fontWeight:700,children:"Manage Safe Account owners"})}),(0,s.jsxs)(a.ZP,{item:!0,xs:!0,children:[(0,s.jsx)(u.Z,{mb:2,children:"Add, remove and replace or rename existing owners. Owner names are only stored locally and will never be shared with us or any third parties."}),(0,s.jsx)(qe.Z,{rows:t,headCells:rn}),(0,s.jsx)(Z.Z,{pt:2,children:(0,s.jsx)(K.Z,{children:function(e){return(0,s.jsx)(Ie.Z,(0,X.Z)((0,Q.Z)({},Be.i.SETUP.ADD_OWNER),{children:(0,s.jsx)(v.Z,{onClick:function(){return r((0,s.jsx)(Ne,{}))},variant:"text",startIcon:(0,s.jsx)(d.Z,{component:Ge.Z,inheritViewBox:!0,fontSize:"small"}),disabled:!e,children:"Add new owner"})}))}})})]})]})})},sn=r(14924),on=function(e){var n=e.params,r=(0,N.Z)().safe,t=n[Qe.threshold],i=(0,f.useContext)(F.J),o=i.setSafeTx,a=i.setSafeTxError;(0,f.useEffect)((function(){(0,U.hT)(t).then(o).catch(a)}),[t,o,a]);return(0,s.jsxs)(H.Z,{onSubmit:function(){(0,ve.zj)((0,X.Z)((0,Q.Z)({},ve.iZ.SETUP.OWNERS),{label:r.owners.length})),(0,ve.zj)((0,X.Z)((0,Q.Z)({},ve.iZ.SETUP.THRESHOLD),{label:t}))},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Z,{variant:"body2",color:"text.secondary",mb:.5,children:"Any transaction will require the confirmation of:"}),(0,s.jsxs)(u.Z,{children:[(0,s.jsx)("b",{children:t})," out of ",(0,s.jsxs)("b",{children:[r.owners.length," owner(s)"]})]})]}),(0,s.jsx)(Z.Z,{my:1,children:(0,s.jsx)(ie.Z,{className:fe().nestedDivider})})]})},an=function(e){var n=e.params,r=e.onSubmit,t=(0,N.Z)().safe,i=(0,le.cI)({defaultValues:n,mode:"onChange"}),o=i.watch(Qe.threshold);return(0,s.jsxs)(xe.Z,{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(u.Z,{variant:"h3",fontWeight:700,children:["Threshold",(0,s.jsx)(h.Z,{title:Ze,arrow:!0,placement:"top",children:(0,s.jsx)("span",{children:(0,s.jsx)(d.Z,{component:x.Z,inheritViewBox:!0,color:"border",fontSize:"small",sx:{verticalAlign:"middle",ml:.5}})})})]}),(0,s.jsx)(u.Z,{children:"Any transaction will require the confirmation of:"})]}),(0,s.jsxs)("form",{onSubmit:i.handleSubmit(r),children:[(0,s.jsx)(Z.Z,{mb:2,children:(0,s.jsx)(le.Qr,{control:i.control,rules:{validate:function(e){if(e===t.threshold)return"Current policy is already set to ".concat(t.threshold,".")}},name:Qe.threshold,render:function(e){var n,r=e.field,i=e.fieldState,o=!!i.error;return(0,s.jsxs)(a.ZP,{container:!0,direction:"row",gap:2,alignItems:"center",children:[(0,s.jsx)(a.ZP,{item:!0,children:(0,s.jsx)(oe.Z,(0,X.Z)((0,Q.Z)({select:!0},r),{error:o,children:t.owners.map((function(e,n){return(0,s.jsx)(ae.Z,{value:n+1,children:n+1},n+1)}))}))}),(0,s.jsx)(a.ZP,{item:!0,children:(0,s.jsxs)(u.Z,{children:["out of ",t.owners.length," owner(s)"]})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,children:o?(0,s.jsx)(u.Z,{color:"error",mb:2,children:null===(n=i.error)||void 0===n?void 0:n.message}):(0,s.jsxs)(u.Z,{mb:2,children:[i.isDirty?"Previous policy was ":"Current policy is ",(0,s.jsxs)("b",{children:[t.threshold," out of ",t.owners.length]}),"."]})})]})}})}),(0,s.jsx)(ie.Z,{className:fe().nestedDivider}),(0,s.jsx)(se.Z,{children:(0,s.jsx)(v.Z,{variant:"contained",type:"submit",disabled:!!i.formState.errors[Qe.threshold]||o===t.threshold,children:"Next"})})]})]})};!function(e){e.threshold="threshold"}(Qe||(Qe={}));var ln=function(){var e=(0,N.Z)().safe,n=(0,ee.Z)((0,sn.Z)({},Qe.threshold,e.threshold)),r=n.data,t=n.step,i=n.nextStep,o=n.prevStep,a=[(0,s.jsx)(an,{params:r,onSubmit:function(e){return i(e)}},0),(0,s.jsx)(on,{params:r},1)];return(0,s.jsx)(k.Z,{title:0===t?"New transaction":"Confirm transaction",subtitle:"Change threshold",icon:Pe.Z,step:t,onBack:o,children:a})},cn=function(e){var n=e.threshold,r=e.owners,t=(0,f.useContext)(R.i).setTxFlow;return(0,s.jsx)(Z.Z,{marginTop:6,children:(0,s.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,s.jsx)(a.ZP,{item:!0,lg:4,xs:12,children:(0,s.jsx)(u.Z,{variant:"h4",fontWeight:700,children:"Required confirmations"})}),(0,s.jsxs)(a.ZP,{item:!0,xs:!0,children:[(0,s.jsx)(u.Z,{children:"Any transaction requires the confirmation of:"}),(0,s.jsxs)(u.Z,{paddingTop:3,children:[(0,s.jsx)("b",{children:n})," out of ",(0,s.jsx)("b",{children:r})," owners."]}),r>1&&(0,s.jsx)(Z.Z,{pt:2,children:(0,s.jsx)(K.Z,{children:function(e){return(0,s.jsx)(Ie.Z,(0,X.Z)((0,Q.Z)({},ve.iZ.SETUP.CHANGE_THRESHOLD),{children:(0,s.jsx)(v.Z,{onClick:function(){return t((0,s.jsx)(ln,{}))},variant:"contained",disabled:!e,children:"Change"})}))}})})]})]})})},dn=r(71758),hn=function(){var e=function(){var e=(0,N.Z)(),n=e.safe.chainId,r=e.safeAddress;return(0,m.Z)((0,O.Z)((function(){if(n&&r)return(0,w.getDelegates)(n,{safe:r})}),[n,r]),1)[0]}();return(null===e||void 0===e?void 0:e.results.length)?(0,s.jsx)(l.Z,{sx:{p:4,mt:2},children:(0,s.jsx)(Z.Z,{display:"flex",flexDirection:"column",gap:2,children:(0,s.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,s.jsx)(a.ZP,{item:!0,lg:4,xs:12,children:(0,s.jsx)(u.Z,{variant:"h4",fontWeight:700,children:(0,s.jsx)(h.Z,{placement:"top",title:(0,s.jsxs)(s.Fragment,{children:["What are delegated accounts?"," ",(0,s.jsx)(I.Z,{href:b.Jb.DELEGATES,children:"Learn more"})]}),children:(0,s.jsxs)("span",{children:["Delegated accounts",(0,s.jsx)(d.Z,{component:x.Z,inheritViewBox:!0,fontSize:"small",color:"border",sx:{verticalAlign:"middle",ml:.5}})]})})})}),(0,s.jsx)(a.ZP,{item:!0,xs:!0,children:(0,s.jsx)("ul",{style:{padding:0,margin:0},children:e.results.map((function(e){return(0,s.jsx)("li",{style:{listStyleType:"none",marginBottom:"1em"},title:"Delegated by ".concat(e.delegator),children:(0,s.jsx)($.Z,{address:e.delegate,showCopyButton:!0,hasExplorer:!0,name:e.label||void 0,shortAddress:!1})},e.delegate)}))})})]})})}):null},un=function(){var e=(0,N.Z)(),n=e.safe,r=e.safeLoaded,t=n.nonce,i=n.owners.length,m=n.threshold;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o(),{children:(0,s.jsx)("title",{children:"Safe{Wallet} \u2013 Settings \u2013 Setup"})}),(0,s.jsx)(dn.Z,{}),(0,s.jsxs)("main",{children:[(0,s.jsx)(l.Z,{sx:{p:4,mb:2},children:(0,s.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,s.jsxs)(a.ZP,{item:!0,lg:4,xs:12,children:[(0,s.jsx)(u.Z,{variant:"h4",fontWeight:700,children:(0,s.jsx)(h.Z,{placement:"top",title:"For security reasons, transactions made with a Safe Account need to be executed in order. The nonce shows you which transaction will be executed next. You can find the nonce for a transaction in the transaction details.",children:(0,s.jsxs)("span",{children:["Safe Account nonce",(0,s.jsx)(d.Z,{component:x.Z,inheritViewBox:!0,fontSize:"small",color:"border",sx:{verticalAlign:"middle",ml:.5}})]})})}),(0,s.jsxs)(u.Z,{pt:1,children:["Current nonce:"," ",r?(0,s.jsx)("b",{children:t}):(0,s.jsx)(c.Z,{width:"30px",sx:{display:"inline-block"}})]})]}),(0,s.jsx)(a.ZP,{item:!0,xs:!0,children:(0,s.jsx)(Y,{})})]})}),(0,s.jsxs)(l.Z,{sx:{p:4},children:[(0,s.jsx)(tn,{}),(0,s.jsx)(cn,{threshold:m,owners:i})]}),(0,s.jsx)(hn,{})]})]})}},71824:function(e){e.exports={tableCell:"styles_tableCell__t4PBD",collapsedCell:"styles_collapsedCell__hJpGm",collapsedRow:"styles_collapsedRow__h5L8I",actions:"styles_actions__Xi7e7",mobileColumn:"styles_mobileColumn__x_pTy"}},51039:function(e){e.exports={tabs:"styles_tabs__0HwOj",tab:"styles_tab__kSwiT",label:"styles_label__kLyY9"}},28962:function(e){e.exports={container:"styles_container__dwmnI",title:"styles_title__sN5vi",border:"styles_border__3FL5Q",pageHeader:"styles_pageHeader__E3fR_",actionsWrapper:"styles_actionsWrapper__KFmOg",navWrapper:"styles_navWrapper__3duqy"}}},function(e){e.O(0,[6572,4411,5076,9774,2888,179],(function(){return n=69875,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=setup-ba5ff852f83d8324.js.map