{"version":3,"file":"static/chunks/pages/share/safe-app-c61fbc23713b5979.js","mappings":"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","sources":["webpack://_N_E/?6bdc","webpack://_N_E/./src/components/safe-apps/utils.ts","webpack://_N_E/./src/hooks/safe-apps/useSafeAppFromBackend.ts","webpack://_N_E/./src/hooks/safe-apps/useSafeAppFromManifest.ts","webpack://_N_E/./src/hooks/safe-apps/useSafeAppUrl.ts","webpack://_N_E/./src/hooks/useLastSafe.ts","webpack://_N_E/./public/images/apps/apps-demo.svg","webpack://_N_E/./src/components/safe-apps/SafeAppLandingPage/SafeAppDetails.tsx","webpack://_N_E/./src/components/safe-apps/SafeAppLandingPage/constants.ts","webpack://_N_E/./public/images/open/safe-creation.svg","webpack://_N_E/./src/components/safe-apps/SafeAppLandingPage/TryDemo.tsx","webpack://_N_E/./src/components/safe-apps/SafeAppLandingPage/AppActions.tsx","webpack://_N_E/./src/components/safe-apps/SafeAppLandingPage/index.tsx","webpack://_N_E/./src/pages/share/safe-app.tsx","webpack://_N_E/./src/hooks/safe-apps/useChainFromQueryParams.ts","webpack://_N_E/./src/services/safe-apps/manifest.ts"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/share/safe-app\",\n      function () {\n        return require(\"private-next-pages/share/safe-app.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/share/safe-app\"])\n      });\n    }\n  ","import { isHexString, toUtf8String } from 'ethers/lib/utils'\nimport { SafeAppAccessPolicyTypes } from '@safe-global/safe-gateway-typescript-sdk'\nimport { SafeAppFeatures } from '@safe-global/safe-gateway-typescript-sdk'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\nimport type { BaseTransaction, ChainInfo } from '@safe-global/safe-apps-sdk'\n\nimport { formatVisualAmount } from '@/utils/formatters'\nimport { validateAddress } from '@/utils/validation'\nimport type { SafeAppDataWithPermissions } from './types'\nimport { SafeAppsTag } from '@/config/constants'\n\nconst validateTransaction = (t: BaseTransaction): boolean => {\n  if (!['string', 'number'].includes(typeof t.value)) {\n    return false\n  }\n\n  if (typeof t.value === 'string' && !/^(0x)?[0-9a-f]+$/i.test(t.value)) {\n    return false\n  }\n\n  const isAddressValid = validateAddress(t.to) === undefined\n  return isAddressValid && !!t.data && typeof t.data === 'string'\n}\n\nexport const isTxValid = (txs: BaseTransaction[]) => txs.length && txs.every((t) => validateTransaction(t))\n\nexport const getInteractionTitle = (value?: string, chain?: ChainInfo) => {\n  const { decimals, symbol } = chain!.nativeCurrency\n  return `Interact with${\n    Number(value) !== 0 ? ` (and send ${formatVisualAmount(value || 0, decimals)} ${symbol} to)` : ''\n  }:`\n}\n\n/**\n * If message is a hex value and is Utf8 encoded string we decode it, else we return the raw message\n * @param {string} message raw input message\n * @returns {string}\n */\nexport const getDecodedMessage = (message: string): string => {\n  if (isHexString(message)) {\n    // If is a hex string we try to extract a message\n    try {\n      return toUtf8String(message)\n    } catch (e) {\n      // the hex string is not UTF8 encoding so we will return the raw message.\n    }\n  }\n\n  return message\n}\n\nexport const getLegacyChainName = (chainName: string, chainId: string): string => {\n  let network = chainName\n\n  switch (chainId) {\n    case '1':\n      network = 'MAINNET'\n      break\n    case '100':\n      network = 'XDAI'\n  }\n\n  return network\n}\n\nexport const getEmptySafeApp = (url = ''): SafeAppDataWithPermissions => {\n  return {\n    id: Math.random(),\n    url,\n    name: 'unknown',\n    iconUrl: '/images/apps/apps-icon.svg',\n    description: '',\n    chainIds: [],\n    accessControl: {\n      type: SafeAppAccessPolicyTypes.NoRestrictions,\n    },\n    tags: [],\n    safeAppsPermissions: [],\n    features: [],\n    socialProfiles: [],\n    developerWebsite: '',\n  }\n}\n\nexport const getOrigin = (url?: string): string => {\n  if (!url) return ''\n\n  const { origin } = new URL(url)\n\n  return origin\n}\n\nexport const isOptimizedForBatchTransactions = (safeApp: SafeAppData) =>\n  safeApp.features?.includes(SafeAppFeatures.BATCHED_TRANSACTIONS)\n\n// some categories are used internally and we dont want to display them in the UI\nexport const filterInternalCategories = (categories: string[]): string[] => {\n  const internalCategories = Object.values(SafeAppsTag)\n  return categories.filter((tag) => !internalCategories.some((internalCategory) => tag === internalCategory))\n}\n\n// Get unique tags from all apps\nexport const getUniqueTags = (apps: SafeAppData[]): string[] => {\n  // Get the list of categories from the safeAppsList\n  const tags = apps.reduce<Set<string>>((result, app) => {\n    app.tags.forEach((tag) => result.add(tag))\n    return result\n  }, new Set())\n\n  // Filter out internal tags\n  const filteredTags = filterInternalCategories(Array.from(tags))\n\n  // Sort alphabetically\n  return filteredTags.sort()\n}\n","import { useEffect } from 'react'\nimport type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\nimport { getSafeApps } from '@safe-global/safe-gateway-typescript-sdk'\nimport { Errors, logError } from '@/services/exceptions'\nimport type { AsyncResult } from '../useAsync'\nimport useAsync from '../useAsync'\nimport { trimTrailingSlash } from '@/utils/url'\n\nconst useSafeAppFromBackend = (url: string, chainId: string): AsyncResult<SafeAppData> => {\n  const [backendApp, error, loading] = useAsync(async () => {\n    if (!chainId) return\n\n    // We do not have a single standard for storing URLs, it may be stored with or without a trailing slash.\n    // But for the request it has to be an exact match.\n    const retryUrl = url.endsWith('/') ? trimTrailingSlash(url) : `${url}/`\n    let response = await getSafeApps(chainId, { url })\n    if (!response[0]) {\n      response = await getSafeApps(chainId, { url: retryUrl })\n    }\n\n    return response?.[0]\n  }, [chainId, url])\n\n  useEffect(() => {\n    if (error) {\n      logError(Errors._900, error.message)\n    }\n  }, [error])\n\n  return [backendApp, error, loading]\n}\n\nexport { useSafeAppFromBackend }\n","import { useEffect, useMemo } from 'react'\nimport { Errors, logError } from '@/services/exceptions'\nimport { fetchSafeAppFromManifest } from '@/services/safe-apps/manifest'\nimport useAsync from '@/hooks/useAsync'\nimport { getEmptySafeApp } from '@/components/safe-apps/utils'\nimport type { SafeAppDataWithPermissions } from '@/components/safe-apps/types'\nimport { asError } from '@/services/exceptions/utils'\n\ntype UseSafeAppFromManifestReturnType = {\n  safeApp: SafeAppDataWithPermissions\n  isLoading: boolean\n}\n\nconst useSafeAppFromManifest = (appUrl: string, chainId: string): UseSafeAppFromManifestReturnType => {\n  const [data, error, isLoading] = useAsync<SafeAppDataWithPermissions>(() => {\n    if (appUrl && chainId) return fetchSafeAppFromManifest(appUrl, chainId)\n  }, [appUrl, chainId])\n\n  const emptyApp = useMemo(() => getEmptySafeApp(appUrl), [appUrl])\n\n  useEffect(() => {\n    if (!error) return\n    logError(Errors._903, `${appUrl}, ${asError(error).message}`)\n  }, [appUrl, error])\n\n  return { safeApp: data || emptyApp, isLoading }\n}\n\nexport { useSafeAppFromManifest }\n","import { useRouter } from 'next/router'\nimport { sanitizeUrl } from '@/utils/url'\nimport { useEffect, useMemo, useState } from 'react'\n\nconst useSafeAppUrl = (): string | undefined => {\n  const router = useRouter()\n  const [appUrl, setAppUrl] = useState<string | undefined>()\n\n  useEffect(() => {\n    if (!router.isReady) return\n    setAppUrl(router.query.appUrl?.toString())\n  }, [router])\n\n  return useMemo(() => (appUrl ? sanitizeUrl(appUrl) : undefined), [appUrl])\n}\n\nexport { useSafeAppUrl }\n","import { useAppSelector } from '@/store'\nimport { selectLastSafeAddress } from '@/store/sessionSlice'\nimport { useCurrentChain } from './useChains'\n\nconst useLastSafe = (): string | undefined => {\n  const chainInfo = useCurrentChain()\n  const chainId = chainInfo?.chainId || ''\n  const prefix = chainInfo?.shortName || ''\n  const lastSafeAddress = useAppSelector((state) => selectLastSafeAddress(state, chainId))\n  return prefix && lastSafeAddress ? `${prefix}:${lastSafeAddress}` : undefined\n}\n\nexport default useLastSafe\n","var _path, _path2, _path3, _path4, _path5, _path6, _path7;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nvar SvgAppsDemo = function SvgAppsDemo(_ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 110,\n    height: 92,\n    viewBox: \"0 0 110 92\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    className: \"illustration-background-fill\",\n    d: \"M46 0C71.405 0 92 20.595 92 46C92 71.406 71.405 92.001 46 92.001C20.595 92.001 0 71.406 0 46C0 20.595 20.595 0 46 0Z\",\n    fill: \"#F6F7F8\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"illustration-light-fill\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M26.1364 13C22.7725 13 20 15.7286 20 19.0392V73.3919C20 76.7024 22.7725 79.431 26.1364 79.431H103.864C107.227 79.431 110 76.7024 110 73.3919V19.0392C110 15.7286 107.227 13 103.864 13H26.1364ZM25.9805 16.9078H44.7596C44.8311 16.9316 44.9066 16.9554 44.982 16.9713C46.2292 17.1618 47.2619 17.7968 48.3502 18.908C49.4384 20.0192 50.5108 21.5671 51.6865 23.226C52.5841 24.4921 53.5652 25.8375 54.7368 27.0677H23.9474V18.9397C23.9474 17.7769 24.8172 16.9077 25.981 16.9077L25.9805 16.9078ZM52.3684 16.9077H104.008C105.178 16.9077 106.053 17.7769 106.053 18.9397V27.0677H63.5848C63.457 27.0439 63.3292 27.036 63.2014 27.036C59.7822 26.6669 57.7691 24.1031 55.4683 20.8765C54.5216 19.5509 53.4911 18.1897 52.3687 16.9078L52.3684 16.9077ZM29.0789 20.0339C27.988 20.0339 27.1053 20.9078 27.1053 21.9877C27.1053 23.0677 27.988 23.9416 29.0789 23.9416C30.1699 23.9416 31.0526 23.0677 31.0526 21.9877C31.0526 20.9078 30.1699 20.0339 29.0789 20.0339ZM36.1842 20.0339C35.0933 20.0339 34.2105 20.9078 34.2105 21.9877C34.2105 23.0677 35.0933 23.9416 36.1842 23.9416C37.2751 23.9416 38.1579 23.0677 38.1579 21.9877C38.1579 20.9078 37.2751 20.0339 36.1842 20.0339ZM43.2895 20.0339C42.1985 20.0339 41.3158 20.9078 41.3158 21.9877C41.3158 23.0677 42.1985 23.9416 43.2895 23.9416C44.3804 23.9416 45.2632 23.0677 45.2632 21.9877C45.2632 20.9078 44.3804 20.0339 43.2895 20.0339ZM23.9474 30.9755H105.263V73.4984C105.263 74.6572 104.394 75.5233 103.23 75.5233H25.9803C24.8169 75.5233 23.9474 74.6572 23.9474 73.4984V30.9755Z\",\n    fill: \"#B2BBC0\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"illustration-main-fill\",\n    d: \"M96.1 76.8C96 77 95.8 77.2 95.5 77.2H91.8L93.8 81.8C93.9 82.1 93.8 82.5 93.5 82.6L91.8 83.3C91.5 83.4 91.1 83.3 91 83L89 78.7L86 81.7C85.9 81.8 85.7 81.9 85.6 81.9C85.5 81.9 85.4 81.9 85.4 81.9C85.2 81.8 85 81.6 85 81.3V66.6C85 66.3 85.2 66.1 85.4 66C85.5 66 85.6 66 85.6 66C85.8 66 85.9 66.1 86 66.2L96 76.2C96.2 76.3 96.2 76.6 96.1 76.8Z\",\n    fill: \"#008C73\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"illustration-main-fill\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M61.4999 40.3333H55.6666C54.3779 40.3333 53.3333 41.378 53.3333 42.6666V48.5C53.3333 49.7886 54.3779 50.8333 55.6666 50.8333H61.4999C62.7886 50.8333 63.8333 49.7886 63.8333 48.5V42.6666C63.8333 41.378 62.7886 40.3333 61.4999 40.3333ZM55.6666 48.5V42.6666H61.4999V48.5H55.6666Z\",\n    fill: \"#008C73\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"illustration-main-fill\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M74.3332 53.1666H68.4998C67.2112 53.1666 66.1665 54.2113 66.1665 55.5V61.3333C66.1665 62.622 67.2112 63.6666 68.4998 63.6666H74.3332C75.6218 63.6666 76.6665 62.622 76.6665 61.3333V55.5C76.6665 54.2113 75.6218 53.1666 74.3332 53.1666ZM68.4998 61.3333V55.5H74.3332V61.3333H68.4998Z\",\n    fill: \"#008C73\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"illustration-main-fill\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M76.6665 45.5833C76.6665 48.4828 74.316 50.8333 71.4165 50.8333C68.517 50.8333 66.1665 48.4828 66.1665 45.5833C66.1665 42.6838 68.517 40.3333 71.4165 40.3333C74.316 40.3333 76.6665 42.6838 76.6665 45.5833ZM68.4998 45.5833C68.4998 47.1941 69.8057 48.5 71.4165 48.5C73.0273 48.5 74.3332 47.1941 74.3332 45.5833C74.3332 43.9725 73.0273 42.6666 71.4165 42.6666C69.8057 42.6666 68.4998 43.9725 68.4998 45.5833Z\",\n    fill: \"#008C73\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"illustration-main-fill\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M58.5848 60.0021L55.2424 63.3445C54.8084 63.7785 54.0991 63.7785 53.6639 63.3445L53.6592 63.3387C53.2252 62.9047 53.2252 62.1942 53.6592 61.759L57.0006 58.4177L53.6597 55.0763C53.2257 54.6423 53.2257 53.9318 53.6597 53.4978L53.6644 53.492C54.0995 53.058 54.8089 53.058 55.2429 53.492L58.5848 56.8335L61.9262 53.492C62.3602 53.058 63.0707 53.058 63.5047 53.492L63.5106 53.4978C63.9446 53.9318 63.9446 54.6423 63.5106 55.0763L60.1692 58.4177L63.511 61.759C63.945 62.1942 63.945 62.9047 63.511 63.3387L63.5052 63.3445C63.0712 63.7785 62.3607 63.7785 61.9267 63.3445L58.5848 60.0021Z\",\n    fill: \"#008C73\"\n  })));\n};\nexport default SvgAppsDemo;","import type { SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\nimport { Box } from '@mui/system'\nimport Typography from '@mui/material/Typography'\nimport Divider from '@mui/material/Divider'\nimport ChainIndicator from '@/components/common/ChainIndicator'\nimport WarningIcon from '@/public/images/notifications/warning.svg'\nimport SvgIcon from '@mui/material/SvgIcon'\nimport SafeAppIconCard from '@/components/safe-apps/SafeAppIconCard'\n\ntype DetailsProps = {\n  app: SafeAppData\n  showDefaultListWarning: boolean\n}\n\nconst SafeAppDetails = ({ app, showDefaultListWarning }: DetailsProps) => (\n  <Box sx={{ display: 'flex', flexDirection: 'column' }}>\n    <Box sx={{ display: 'flex', mb: 4 }}>\n      <SafeAppIconCard src={app.iconUrl} alt={app.name} width={90} height={90} />\n\n      <Box sx={{ ml: 8 }}>\n        <Typography variant=\"h3\" fontWeight={700}>\n          {app.name}\n        </Typography>\n        <Typography variant=\"body2\" mt={1}>\n          {app.description}\n        </Typography>\n      </Box>\n    </Box>\n    <Divider />\n    <Box sx={{ mt: 4 }}>\n      <Typography variant=\"body1\">Safe App URL</Typography>\n      <Typography\n        variant=\"body2\"\n        sx={({ palette, shape }) => ({\n          mt: 1,\n          p: 1,\n          backgroundColor: palette.primary.background,\n          display: 'inline-block',\n          borderRadius: shape.borderRadius,\n        })}\n        fontWeight={700}\n      >\n        {app.url}\n      </Typography>\n    </Box>\n    <Box sx={{ mt: 2 }}>\n      <Typography variant=\"body1\">Available networks</Typography>\n      <Box sx={{ display: 'flex', gap: 1, mt: 1, flexWrap: 'wrap' }}>\n        {app.chainIds.map((chainId) => (\n          <ChainIndicator key={chainId} chainId={chainId} inline renderWhiteSpaceIfNoChain={false} />\n        ))}\n      </Box>\n    </Box>\n    <Divider sx={{ mt: 4 }} />\n    {showDefaultListWarning && (\n      <Box sx={{ display: 'flex', flexDirection: 'column', mt: 4 }}>\n        <Box sx={{ mb: 4 }}>\n          <Box sx={{ display: 'flex' }}>\n            {/* \n            //@ts-ignore - \"warning.dark\" is a present in the palette */}\n            <SvgIcon component={WarningIcon} inheritViewBox color=\"warning.dark\" />\n            <Typography variant=\"h5\" sx={({ palette }) => ({ color: palette.warning.dark })}>\n              Warning\n            </Typography>\n          </Box>\n          <Typography variant=\"body1\" mt={1} sx={({ palette }) => ({ color: palette.warning.dark })}>\n            The application is not in the default Safe App list\n          </Typography>\n          <Typography variant=\"body2\" mt={2}>\n            Check the app link and ensure it comes from a trusted source\n          </Typography>\n        </Box>\n        <Divider />\n      </Box>\n    )}\n  </Box>\n)\n\nexport { SafeAppDetails }\n","const CTA_HEIGHT = '218px'\nconst CTA_BUTTON_WIDTH = '186px'\n\nexport { CTA_HEIGHT, CTA_BUTTON_WIDTH }\n","var _g;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nvar SvgSafeCreation = function SvgSafeCreation(_ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 114,\n    height: 92,\n    viewBox: \"0 0 114 92\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    className: \"illustration-background-fill\",\n    fill: \"#F6F7F8\",\n    d: \"M59.004 0c25.405 0 46 20.595 46 46 0 25.406-20.595 46-46 46s-46-20.594-46-46c0-25.405 20.595-46 46-46\",\n    transform: \"translate(-796 -178) translate(796 178)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"illustration-main-fill\",\n    fill: \"#008C73\",\n    d: \"M26 30.002H16v-10c0-1.105-.896-2-2-2s-2 .895-2 2v10H2c-1.104 0-2 .896-2 2s.896 2 2 2h10v10c0 1.104.896 2 2 2s2-.896 2-2v-10h10c1.104 0 2-.896 2-2s-.896-2-2-2\",\n    transform: \"translate(-796 -178) translate(796 178)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"illustration-light-fill\",\n    fill: \"#B2B5B2\",\n    d: \"M109.991 66.798c0 1.22-.992 2.211-2.211 2.211H41.202c-1.218 0-2.211-.992-2.211-2.21v-48.58c0-1.218.993-2.21 2.211-2.21h66.578c1.219 0 2.211.992 2.211 2.21V66.8zm-14 9.2h8V73.01h-8V76zm-50.996.006h8V73.01h-8v2.995zm62.785-63.996H41.202c-3.424 0-6.211 2.787-6.211 6.211V66.8c0 3.353 2.676 6.09 6.004 6.2v5.005c0 1.105.896 2 2 2h12c1.105 0 2-.895 2-2V73.01h34.996V78c0 1.104.896 2 2 2h12c1.104 0 2-.896 2-2v-5c3.327-.114 6-2.847 6-6.2v-48.58c0-3.424-2.786-6.21-6.211-6.21z\",\n    transform: \"translate(-796 -178) translate(796 178)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"illustration-main-fill\",\n    fill: \"#008C73\",\n    d: \"M84.995 26.006c8.822 0 16 7.178 16 16 0 8.823-7.178 16-16 16s-16-7.177-16-16c0-8.822 7.178-16 16-16zm1.793 4.133c-.001.948-.738 1.732-1.675 1.808l-.15.006c-.956 0-1.74-.736-1.816-1.673l-.006-.131c-1.954.304-3.753 1.081-5.277 2.21l-.032-.03c.54.477.743 1.224.53 1.902l-.053.144c-.273.667-.912 1.104-1.594 1.125l-.146-.001c-.435.007-.855-.143-1.184-.42l-.111-.102c-1.093 1.507-1.844 3.278-2.14 5.197h-.016c.957 0 1.741.736 1.817 1.673l.006.15c0 .956-.737 1.74-1.673 1.817l-.136.006c.296 1.947 1.062 3.742 2.178 5.265.682-.59 1.679-.591 2.357-.029l.124.112c.636.633.712 1.627.179 2.371l-.095.121c1.524 1.127 3.322 1.902 5.275 2.204l.003.054c-.056-.635.223-1.248.727-1.624l.131-.089c.587-.362 1.329-.362 1.916 0 .542.335.866.925.867 1.52l-.006.147c1.962-.295 3.77-1.067 5.302-2.193l-.024-.023c-.658-.688-.672-1.755-.058-2.458l.115-.12c.687-.658 1.754-.671 2.45-.065l.093.09c1.12-1.522 1.89-3.317 2.19-5.264l.036.001c-1.007 0-1.823-.816-1.823-1.823 0-.956.737-1.74 1.674-1.817l.116-.005c-.298-1.96-1.072-3.766-2.2-5.295l-.012.012c-.299.292-.686.472-1.093.515l-.176.01c-.49.01-.963-.182-1.304-.528-.342-.34-.534-.803-.534-1.285 0-.429.152-.841.425-1.166l.12-.129c-1.531-1.124-3.338-1.895-5.297-2.19z\",\n    transform: \"translate(-796 -178) translate(796 178)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"illustration-main-fill\",\n    fill: \"#008C73\",\n    d: \"M84.995 39.006c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3m0 10c-3.86 0-7-3.141-7-7 0-3.86 3.14-7 7-7 3.859 0 7 3.14 7 7 0 3.859-3.141 7-7 7\",\n    transform: \"translate(-796 -178) translate(796 178)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"illustration-light-fill\",\n    fill: \"#B2B5B2\",\n    d: \"M46.996 61.002c-1.104 0-2-.896-2-2v-33c0-1.105.896-2 2-2s2 .895 2 2v33c0 1.104-.896 2-2 2M55 61.002c-1.104 0-2-.896-2-2v-33c0-1.105.896-2 2-2s2 .895 2 2v33c0 1.104-.896 2-2 2\",\n    transform: \"translate(-796 -178) translate(796 178)\"\n  })))))));\n};\nexport default SvgSafeCreation;","import { Box, Button, Typography } from '@mui/material'\nimport { CTA_HEIGHT, CTA_BUTTON_WIDTH } from '@/components/safe-apps/SafeAppLandingPage/constants'\nimport Link from 'next/link'\nimport type { LinkProps } from 'next/link'\nimport DemoAppSVG from '@/public/images/apps/apps-demo.svg'\n\ntype Props = {\n  demoUrl: LinkProps['href']\n  onClick(): void\n}\n\nconst TryDemo = ({ demoUrl, onClick }: Props) => (\n  <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" justifyContent=\"space-between\" height={CTA_HEIGHT}>\n    <Typography variant=\"h5\" fontWeight={700}>\n      Try the Safe App before using it\n    </Typography>\n    <DemoAppSVG alt=\"An icon of a internet browser\" />\n    <Link href={demoUrl} passHref>\n      <Button variant=\"outlined\" sx={{ width: CTA_BUTTON_WIDTH }} onClick={onClick}>\n        Try demo\n      </Button>\n    </Link>\n  </Box>\n)\n\nexport { TryDemo }\n","import { Box, Button, MenuItem, Select, Typography, Grid, FormControl, InputLabel } from '@mui/material'\nimport type { ChainInfo, SafeAppData } from '@safe-global/safe-gateway-typescript-sdk'\nimport { useEffect, useMemo, useState } from 'react'\nimport Link from 'next/link'\nimport type { UrlObject } from 'url'\nimport type { ConnectedWallet } from '@/hooks/wallets/useOnboard'\nimport { useAppSelector } from '@/store'\nimport { selectAllAddressBooks } from '@/store/addressBookSlice'\nimport { selectChains } from '@/store/chainsSlice'\nimport useLastSafe from '@/hooks/useLastSafe'\nimport { parsePrefixedAddress } from '@/utils/addresses'\nimport SafeIcon from '@/components/common/SafeIcon'\nimport EthHashInfo from '@/components/common/EthHashInfo'\nimport { AppRoutes } from '@/config/routes'\nimport useOwnedSafes from '@/hooks/useOwnedSafes'\nimport { CTA_BUTTON_WIDTH, CTA_HEIGHT } from '@/components/safe-apps/SafeAppLandingPage/constants'\nimport CreateNewSafeSVG from '@/public/images/open/safe-creation.svg'\n\ntype Props = {\n  appUrl: string\n  wallet: ConnectedWallet | null\n  onConnectWallet: () => Promise<void>\n  chain: ChainInfo\n  app: SafeAppData\n}\n\ntype CompatibleSafesType = { address: string; chainId: string; shortName?: string }\n\nconst AppActions = ({ wallet, onConnectWallet, chain, appUrl, app }: Props): React.ReactElement => {\n  const lastUsedSafe = useLastSafe()\n  const ownedSafes = useOwnedSafes()\n  const addressBook = useAppSelector(selectAllAddressBooks)\n  const chains = useAppSelector(selectChains)\n  const compatibleChains = app.chainIds\n\n  const compatibleSafes = useMemo(\n    () => getCompatibleSafes(ownedSafes, compatibleChains, chains.data),\n    [ownedSafes, compatibleChains, chains.data],\n  )\n\n  const [safeToUse, setSafeToUse] = useState<CompatibleSafesType>()\n\n  useEffect(() => {\n    const defaultSafe = getDefaultSafe(compatibleSafes, chain.chainId, lastUsedSafe)\n    if (defaultSafe) {\n      setSafeToUse(defaultSafe)\n    }\n  }, [compatibleSafes, chain.chainId, lastUsedSafe])\n\n  const hasWallet = !!wallet\n  const hasSafes = compatibleSafes.length > 0\n  const shouldCreateSafe = hasWallet && !hasSafes\n\n  let button: React.ReactNode\n  switch (true) {\n    case hasWallet && hasSafes && !!safeToUse:\n      const safe = `${safeToUse?.shortName}:${safeToUse?.address}`\n      const href: UrlObject = {\n        pathname: AppRoutes.apps.open,\n        query: { safe, appUrl },\n      }\n\n      button = (\n        <Link href={href} passHref>\n          <Button variant=\"contained\" sx={{ width: CTA_BUTTON_WIDTH }} disabled={!safeToUse}>\n            Use app\n          </Button>\n        </Link>\n      )\n      break\n    case shouldCreateSafe:\n      const redirect = `${AppRoutes.apps.index}?appUrl=${appUrl}`\n      const createSafeHrefWithRedirect: UrlObject = {\n        pathname: AppRoutes.newSafe.create,\n        query: { safeViewRedirectURL: redirect, chain: chain.shortName },\n      }\n      button = (\n        <Link href={createSafeHrefWithRedirect} passHref>\n          <Button variant=\"contained\" sx={{ width: CTA_BUTTON_WIDTH }}>\n            Create new Safe Account\n          </Button>\n        </Link>\n      )\n      break\n    default:\n      button = (\n        <Button onClick={onConnectWallet} variant=\"contained\" sx={{ width: CTA_BUTTON_WIDTH }}>\n          Connect wallet\n        </Button>\n      )\n  }\n  let body: React.ReactNode\n  if (hasWallet && hasSafes) {\n    body = (\n      <FormControl>\n        <InputLabel id=\"safe-select-label\">Select a Safe Account</InputLabel>\n        <Select\n          labelId=\"safe-select-label\"\n          value={safeToUse?.address || ''}\n          onChange={(e) => {\n            const safeToUse = compatibleSafes.find(({ address }) => address === e.target.value)\n            setSafeToUse(safeToUse)\n          }}\n          autoWidth\n          label=\"Select a Safe Account\"\n          sx={({ spacing }) => ({\n            width: '311px',\n            minHeight: '56px',\n            '.MuiSelect-select': { padding: `${spacing(1)} ${spacing(2)}` },\n          })}\n        >\n          {compatibleSafes.map(({ address, chainId, shortName }) => (\n            <MenuItem key={`${chainId}:${address}`} value={address}>\n              <Grid container alignItems=\"center\" gap={1}>\n                <SafeIcon address={address} />\n\n                <Grid item xs>\n                  <Typography variant=\"body2\">{addressBook?.[chainId]?.[address]}</Typography>\n\n                  <EthHashInfo address={address} showAvatar={false} showName={false} prefix={shortName} />\n                </Grid>\n              </Grid>\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    )\n  } else {\n    body = <CreateNewSafeSVG alt=\"An icon of a physical safe with a plus sign\" />\n  }\n\n  return (\n    <Box\n      display=\"flex\"\n      flexDirection=\"column\"\n      alignItems=\"center\"\n      justifyContent=\"space-between\"\n      fontWeight={700}\n      height={CTA_HEIGHT}\n    >\n      <Typography variant=\"h5\" fontWeight={700}>\n        Use the App with your Safe Account\n      </Typography>\n      {body}\n      {button}\n    </Box>\n  )\n}\n\nexport { AppActions }\n\nconst getCompatibleSafes = (\n  ownedSafes: { [chainId: string]: string[] },\n  compatibleChains: string[],\n  chainsData: ChainInfo[],\n): CompatibleSafesType[] => {\n  return compatibleChains.reduce<CompatibleSafesType[]>((safes, chainId) => {\n    const chainData = chainsData.find((chain: ChainInfo) => chain.chainId === chainId)\n\n    return [\n      ...safes,\n      ...(ownedSafes[chainId] || []).map((address) => ({\n        address,\n        chainId,\n        shortName: chainData?.shortName,\n      })),\n    ]\n  }, [])\n}\n\nconst getDefaultSafe = (\n  compatibleSafes: CompatibleSafesType[],\n  chainId: string,\n  lastUsedSafe = '',\n): CompatibleSafesType => {\n  // as a first option, we use the last used Safe in the provided chain\n  const lastViewedSafe = compatibleSafes.find((safe) => safe.address === parsePrefixedAddress(lastUsedSafe).address)\n\n  if (lastViewedSafe) {\n    return lastViewedSafe\n  }\n\n  // as a second option, we use any user Safe in the provided chain\n  const safeInTheSameChain = compatibleSafes.find((safe) => safe.chainId === chainId)\n\n  if (safeInTheSameChain) {\n    return safeInTheSameChain\n  }\n\n  // as a fallback we salect a random compatible user Safe\n  return compatibleSafes[0]\n}\n","import { useEffect } from 'react'\nimport { Box, CircularProgress, Paper } from '@mui/material'\nimport Grid from '@mui/material/Unstable_Grid2'\nimport { OVERVIEW_EVENTS, SAFE_APPS_EVENTS, trackEvent, trackSafeAppEvent } from '@/services/analytics'\nimport { useSafeAppFromBackend } from '@/hooks/safe-apps/useSafeAppFromBackend'\nimport { useSafeAppFromManifest } from '@/hooks/safe-apps/useSafeAppFromManifest'\nimport { SafeAppDetails } from '@/components/safe-apps/SafeAppLandingPage/SafeAppDetails'\nimport { TryDemo } from '@/components/safe-apps/SafeAppLandingPage/TryDemo'\nimport { AppActions } from '@/components/safe-apps/SafeAppLandingPage/AppActions'\nimport useWallet from '@/hooks/wallets/useWallet'\nimport { AppRoutes } from '@/config/routes'\nimport { SAFE_APPS_DEMO_SAFE_MAINNET } from '@/config/constants'\nimport useOnboard from '@/hooks/wallets/useOnboard'\nimport { Errors, logError } from '@/services/exceptions'\nimport type { ChainInfo } from '@safe-global/safe-gateway-typescript-sdk'\n\ntype Props = {\n  appUrl: string\n  chain: ChainInfo\n}\n\nconst CHAIN_ID_WITH_A_DEMO = '1'\n\nconst SafeAppLanding = ({ appUrl, chain }: Props) => {\n  const { safeApp, isLoading } = useSafeAppFromManifest(appUrl, chain.chainId)\n  const [backendApp, , backendAppLoading] = useSafeAppFromBackend(appUrl, chain.chainId)\n  const wallet = useWallet()\n  const onboard = useOnboard()\n  // show demo if the app was shared for mainnet or we can find the mainnet chain id on the backend\n  const showDemo = chain.chainId === CHAIN_ID_WITH_A_DEMO || !!backendApp?.chainIds.includes(CHAIN_ID_WITH_A_DEMO)\n\n  useEffect(() => {\n    if (!isLoading && !backendAppLoading && safeApp?.chainIds.length) {\n      const appName = backendApp ? backendApp.name : safeApp.url\n\n      trackSafeAppEvent({ ...SAFE_APPS_EVENTS.SHARED_APP_LANDING, label: chain.chainId }, appName)\n    }\n  }, [isLoading, backendApp, safeApp, backendAppLoading, chain])\n\n  const handleConnectWallet = async () => {\n    if (!onboard) return\n\n    trackEvent(OVERVIEW_EVENTS.OPEN_ONBOARD)\n\n    onboard.connectWallet().catch((e) => logError(Errors._302, e))\n  }\n\n  const handleDemoClick = () => {\n    trackSafeAppEvent(SAFE_APPS_EVENTS.SHARED_APP_OPEN_DEMO, backendApp ? backendApp.name : appUrl)\n  }\n\n  if (isLoading || backendAppLoading) {\n    return (\n      <Box py={4} textAlign=\"center\">\n        <CircularProgress size={40} />\n      </Box>\n    )\n  }\n\n  if (!safeApp) {\n    return <div>No Safe App found</div>\n  }\n\n  return (\n    <Grid container>\n      <Grid sm={12} md={12} lg={8} lgOffset={2} xl={6} xlOffset={3}>\n        <Paper sx={{ p: 6 }}>\n          <SafeAppDetails app={backendApp || safeApp} showDefaultListWarning={!backendApp} />\n          <Grid container sx={{ mt: 4 }} rowSpacing={{ xs: 2, sm: 2 }}>\n            <Grid xs={12} sm={12} md={showDemo ? 6 : 12}>\n              <AppActions\n                appUrl={appUrl}\n                wallet={wallet}\n                onConnectWallet={handleConnectWallet}\n                chain={chain}\n                app={backendApp || safeApp}\n              />\n            </Grid>\n            {showDemo && (\n              <Grid xs={12} sm={12} md={6}>\n                <TryDemo\n                  demoUrl={{\n                    pathname: AppRoutes.apps.open,\n                    query: { safe: SAFE_APPS_DEMO_SAFE_MAINNET, appUrl },\n                  }}\n                  onClick={handleDemoClick}\n                />\n              </Grid>\n            )}\n          </Grid>\n        </Paper>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport { SafeAppLanding }\n","import { useEffect } from 'react'\nimport Head from 'next/head'\nimport { useRouter } from 'next/router'\nimport { Box, CircularProgress } from '@mui/material'\nimport { useSafeAppUrl } from '@/hooks/safe-apps/useSafeAppUrl'\nimport { useChainFromQueryParams } from '@/hooks/safe-apps/useChainFromQueryParams'\nimport { SafeAppLanding } from '@/components/safe-apps/SafeAppLandingPage'\nimport { AppRoutes } from '@/config/routes'\n\nconst ShareSafeApp = () => {\n  const router = useRouter()\n  const appUrl = useSafeAppUrl()\n  const { chain, validChain, loading: chainLoading, error: chainError } = useChainFromQueryParams()\n\n  useEffect(() => {\n    if (chainLoading) return\n\n    if (router.isReady && (!appUrl || !validChain || !chain)) {\n      router.push(AppRoutes.index)\n    }\n  }, [appUrl, validChain, chain, chainLoading, router])\n\n  if (chainLoading) {\n    return (\n      <Box py={4} textAlign=\"center\">\n        <CircularProgress size={40} />\n      </Box>\n    )\n  }\n\n  if (!appUrl || !validChain || !chain) {\n    return null\n  }\n\n  if (chainError) {\n    throw new Error(chainError)\n  }\n\n  return (\n    <>\n      <Head>\n        <title>Safe Apps – Share</title>\n      </Head>\n\n      <main>\n        <SafeAppLanding appUrl={appUrl} chain={chain} />\n      </main>\n    </>\n  )\n}\n\nexport default ShareSafeApp\n","// TODO: refactor using useCurrentChain()\n\nimport { useMemo } from 'react'\nimport { useRouter } from 'next/router'\nimport type { ChainInfo } from '@safe-global/safe-gateway-typescript-sdk'\nimport useChains from '@/hooks/useChains'\n\ntype ReturnType = {\n  chain?: ChainInfo\n  validChain: boolean\n  loading: boolean\n  error: string | undefined\n}\n\nconst useChainFromQueryParams = (): ReturnType => {\n  const router = useRouter()\n  const { chain } = router.query\n  // WARNING: the `loading` state is not accurate, the initial value for it is always `false`\n  // Therefore, it's possible to confuse the state where the chains haven't been asked yet\n  // with the final state. I did a dirty fix by checking if config/chains is empty and\n  // assuming that the state is loading\n  const { configs, error, loading } = useChains()\n\n  const chainInfo = useMemo(\n    () => configs.find(({ shortName: configChainShortName }) => configChainShortName === chain),\n    [chain, configs],\n  )\n\n  return {\n    chain: chainInfo,\n    validChain: !!chainInfo,\n    loading: !router.isReady || configs.length == 0 || Boolean(loading),\n    error,\n  }\n}\n\nexport { useChainFromQueryParams }\n","import type { AllowedFeatures, SafeAppDataWithPermissions } from '@/components/safe-apps/types'\nimport { isRelativeUrl, trimTrailingSlash } from '@/utils/url'\nimport { SafeAppAccessPolicyTypes } from '@safe-global/safe-gateway-typescript-sdk'\n\ntype AppManifestIcon = {\n  src: string\n  sizes: string\n  type?: string\n  purpose?: string\n}\n\nexport type AppManifest = {\n  // SPEC: https://developer.mozilla.org/en-US/docs/Web/Manifest\n  name: string\n  short_name?: string\n  description: string\n  icons?: AppManifestIcon[]\n  iconPath?: string\n  safe_apps_permissions?: AllowedFeatures[]\n}\n\nconst MIN_ICON_WIDTH = 128\n\nconst chooseBestIcon = (icons: AppManifestIcon[]): string => {\n  const svgIcon = icons.find((icon) => icon?.sizes?.includes('any') || icon?.type === 'image/svg+xml')\n\n  if (svgIcon) {\n    return svgIcon.src\n  }\n\n  for (const icon of icons) {\n    for (const size of icon.sizes.split(' ')) {\n      if (Number(size.split('x')[0]) >= MIN_ICON_WIDTH) {\n        return icon.src\n      }\n    }\n  }\n\n  return icons[0].src || ''\n}\n\n// The icons URL can be any of the following format:\n// - https://example.com/icon.png\n// - icon.png\n// - /icon.png\n// This function calculates the absolute URL of the icon taking into account the\n// different formats.\nconst getAppLogoUrl = (appUrl: string, { icons = [], iconPath = '' }: AppManifest) => {\n  const iconUrl = icons.length ? chooseBestIcon(icons) : iconPath\n  const includesBaseUrl = iconUrl.startsWith('https://')\n  if (includesBaseUrl) {\n    return iconUrl\n  }\n\n  return `${appUrl}${isRelativeUrl(iconUrl) ? '' : '/'}${iconUrl}`\n}\n\nconst fetchAppManifest = async (appUrl: string, timeout = 5000): Promise<unknown> => {\n  const normalizedUrl = trimTrailingSlash(appUrl)\n  const manifestUrl = `${normalizedUrl}/manifest.json`\n\n  // A lot of apps are hosted on IPFS and IPFS never times out, so we add our own timeout\n  const controller = new AbortController()\n  const id = setTimeout(() => controller.abort(), timeout)\n\n  const response = await fetch(manifestUrl, {\n    signal: controller.signal,\n  })\n  clearTimeout(id)\n\n  if (!response.ok) {\n    throw new Error(`Failed to fetch manifest from ${manifestUrl}`)\n  }\n\n  return response.json()\n}\n\nconst isAppManifestValid = (json: unknown): json is AppManifest => {\n  return (\n    json != null &&\n    typeof json === 'object' &&\n    'name' in json &&\n    'description' in json &&\n    ('icons' in json || 'iconPath' in json)\n  )\n}\n\nconst fetchSafeAppFromManifest = async (\n  appUrl: string,\n  currentChainId: string,\n): Promise<SafeAppDataWithPermissions> => {\n  const normalizedAppUrl = trimTrailingSlash(appUrl)\n  const appManifest = await fetchAppManifest(appUrl)\n\n  if (!isAppManifestValid(appManifest)) {\n    throw new Error('Invalid Safe App manifest')\n  }\n\n  const iconUrl = getAppLogoUrl(normalizedAppUrl, appManifest)\n\n  return {\n    id: Math.random(),\n    url: normalizedAppUrl,\n    name: appManifest.name,\n    description: appManifest.description,\n    accessControl: { type: SafeAppAccessPolicyTypes.NoRestrictions },\n    tags: [],\n    features: [],\n    socialProfiles: [],\n    developerWebsite: '',\n    chainIds: [currentChainId],\n    iconUrl,\n    safeAppsPermissions: appManifest.safe_apps_permissions || [],\n  }\n}\n\nexport { fetchAppManifest, isAppManifestValid, getAppLogoUrl, fetchSafeAppFromManifest }\n"],"names":["window","__NEXT_P","push","isTxValid","txs","length","every","t","includes","value","test","undefined","validateAddress","to","data","validateTransaction","getInteractionTitle","chain","nativeCurrency","decimals","symbol","Number","formatVisualAmount","getDecodedMessage","message","isHexString","toUtf8String","e","getLegacyChainName","chainName","chainId","network","getEmptySafeApp","url","id","Math","random","name","iconUrl","description","chainIds","accessControl","type","SafeAppAccessPolicyTypes","tags","safeAppsPermissions","features","socialProfiles","developerWebsite","getOrigin","URL","origin","isOptimizedForBatchTransactions","safeApp","SafeAppFeatures","filterInternalCategories","categories","internalCategories","Object","values","SafeAppsTag","filter","tag","some","internalCategory","getUniqueTags","apps","reduce","result","app","forEach","add","Set","Array","from","sort","useSafeAppFromBackend","useAsync","retryUrl","response","endsWith","trimTrailingSlash","getSafeApps","backendApp","error","loading","useEffect","logError","Errors","useSafeAppFromManifest","appUrl","fetchSafeAppFromManifest","isLoading","emptyApp","useMemo","asError","useSafeAppUrl","router","useRouter","useState","setAppUrl","isReady","query","toString","sanitizeUrl","chainInfo","useCurrentChain","prefix","shortName","lastSafeAddress","useAppSelector","state","selectLastSafeAddress","_path","_path2","_path3","_path4","_path5","_path6","_path7","SafeAppDetails","showDefaultListWarning","Box","sx","display","flexDirection","mb","SafeAppIconCard","src","alt","width","height","ml","Typography","variant","fontWeight","mt","Divider","palette","shape","p","backgroundColor","primary","background","borderRadius","gap","flexWrap","map","ChainIndicator","inline","renderWhiteSpaceIfNoChain","SvgIcon","component","WarningIcon","inheritViewBox","color","warning","dark","CTA_HEIGHT","CTA_BUTTON_WIDTH","_excluded","_extends","assign","bind","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_g","_ref","title","titleId","props","viewBox","fill","xmlns","fillRule","clipRule","className","d","TryDemo","demoUrl","onClick","alignItems","justifyContent","DemoAppSVG","Link","href","passHref","Button","transform","AppActions","wallet","onConnectWallet","lastUsedSafe","useLastSafe","ownedSafes","useOwnedSafes","addressBook","selectAllAddressBooks","chains","selectChains","compatibleChains","compatibleSafes","getCompatibleSafes","safeToUse","setSafeToUse","defaultSafe","getDefaultSafe","button","body","hasWallet","hasSafes","safe","address","pathname","AppRoutes","disabled","redirect","createSafeHrefWithRedirect","safeViewRedirectURL","FormControl","InputLabel","Select","labelId","onChange","find","autoWidth","label","spacing","minHeight","padding","MenuItem","Grid","container","SafeIcon","item","xs","EthHashInfo","showAvatar","showName","CreateNewSafeSVG","chainsData","safes","chainData","lastViewedSafe","parsePrefixedAddress","safeInTheSameChain","SafeAppLanding","backendAppLoading","useWallet","onboard","useOnboard","showDemo","appName","trackSafeAppEvent","SAFE_APPS_EVENTS","handleConnectWallet","trackEvent","OVERVIEW_EVENTS","connectWallet","catch","py","textAlign","CircularProgress","size","sm","md","lg","lgOffset","xl","xlOffset","Paper","rowSpacing","SAFE_APPS_DEMO_SAFE_MAINNET","div","useChainFromQueryParams","useChains","configs","validChain","Boolean","chainLoading","chainError","Error","Head","main","getAppLogoUrl","icons","iconPath","svgIcon","icon","sizes","split","chooseBestIcon","startsWith","isRelativeUrl","fetchAppManifest","timeout","normalizedUrl","manifestUrl","controller","AbortController","setTimeout","abort","fetch","signal","clearTimeout","ok","json","currentChainId","normalizedAppUrl","appManifest","safe_apps_permissions"],"sourceRoot":""}