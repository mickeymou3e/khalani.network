(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2313],{18259:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/share/safe-app",function(){return t(84250)}])},93857:function(n,e,t){"use strict";t.d(e,{Gu:function(){return u},P$:function(){return p},V2:function(){return h},VJ:function(){return m},W7:function(){return f},bg:function(){return v},cV:function(){return o},fk:function(){return d},mA:function(){return x}});var r=t(82222),i=t(56371),a=t(18831),l=t(46794),c=t(6146),s=t(8002),o=function(n){return n.length&&n.every((function(n){return function(n){return!!["string","number"].includes((0,r.Z)(n.value))&&!("string"===typeof n.value&&!/^(0x)?[0-9a-f]+$/i.test(n.value))&&void 0===(0,c.YN)(n.to)&&!!n.data&&"string"===typeof n.data}(n)}))},u=function(n,e){var t=e.nativeCurrency,r=t.decimals,i=t.symbol;return"Interact with".concat(0!==Number(n)?" (and send ".concat((0,l.Mb)(n||0,r)," ").concat(i," to)"):"",":")},f=function(n){if((0,i.isHexString)(n))try{return(0,i.toUtf8String)(n)}catch(e){}return n},d=function(n,e){var t=n;switch(e){case"1":t="MAINNET";break;case"100":t="XDAI"}return t},h=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{id:Math.random(),url:n,name:"unknown",iconUrl:"/images/apps/apps-icon.svg",description:"",chainIds:[],accessControl:{type:a.SafeAppAccessPolicyTypes.NoRestrictions},tags:[],safeAppsPermissions:[],features:[],socialProfiles:[],developerWebsite:""}},p=function(n){return n?new URL(n).origin:""},v=function(n){var e;return null===(e=n.features)||void 0===e?void 0:e.includes(a.SafeAppFeatures.BATCHED_TRANSACTIONS)},m=function(n){var e=Object.values(s.cd);return n.filter((function(n){return!e.some((function(e){return n===e}))}))},x=function(n){var e=n.reduce((function(n,e){return e.tags.forEach((function(e){return n.add(e)})),n}),new Set);return m(Array.from(e)).sort()}},57678:function(n,e,t){"use strict";t.d(e,{H:function(){return d}});var r=t(47568),i=t(10253),a=t(34051),l=t.n(a),c=t(67294),s=t(18831),o=t(9434),u=t(94232),f=t(65934),d=function(n,e){var t=(0,i.Z)((0,u.Z)((0,r.Z)(l().mark((function t(){var r,i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return r=n.endsWith("/")?(0,f.Os)(n):"".concat(n,"/"),t.next=5,(0,s.getSafeApps)(e,{url:n});case 5:if((i=t.sent)[0]){t.next=10;break}return t.next=9,(0,s.getSafeApps)(e,{url:r});case 9:i=t.sent;case 10:return t.abrupt("return",null===i||void 0===i?void 0:i[0]);case 11:case"end":return t.stop()}}),t)}))),[e,n]),3),a=t[0],d=t[1],h=t[2];return(0,c.useEffect)((function(){d&&(0,o.H)(o.D1._900,d.message)}),[d]),[a,d,h]}},16533:function(n,e,t){"use strict";t.d(e,{Y:function(){return u}});var r=t(10253),i=t(67294),a=t(9434),l=t(73816),c=t(94232),s=t(93857),o=t(16337),u=function(n,e){var t=(0,r.Z)((0,c.Z)((function(){if(n&&e)return(0,l.Cw)(n,e)}),[n,e]),3),u=t[0],f=t[1],d=t[2],h=(0,i.useMemo)((function(){return(0,s.V2)(n)}),[n]);return(0,i.useEffect)((function(){f&&(0,a.H)(a.D1._903,"".concat(n,", ").concat((0,o.T)(f).message))}),[n,f]),{safeApp:u||h,isLoading:d}}},66436:function(n,e,t){"use strict";t.d(e,{P:function(){return l}});var r=t(11163),i=t(65934),a=t(67294),l=function(){var n=(0,r.useRouter)(),e=(0,a.useState)(),t=e[0],l=e[1];return(0,a.useEffect)((function(){var e;n.isReady&&l(null===(e=n.query.appUrl)||void 0===e?void 0:e.toString())}),[n]),(0,a.useMemo)((function(){return t?(0,i.Nm)(t):void 0}),[t])}},46514:function(n,e,t){"use strict";var r=t(89336),i=t(70774),a=t(74727);e.Z=function(){var n=(0,a.Ul)(),e=(null===n||void 0===n?void 0:n.chainId)||"",t=(null===n||void 0===n?void 0:n.shortName)||"",l=(0,r.CG)((function(n){return(0,i.Zg)(n,e)}));return t&&l?"".concat(t,":").concat(l):void 0}},84250:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return bn}});var r,i,a,l,c,s,o,u=t(85893),f=t(67294),d=t(9008),h=t.n(d),p=t(11163),v=t(99226),m=t(98456),x=t(66436),C=t(74727),g=t(47568),Z=t(26042),j=t(69396),y=t(10253),b=t(34051),w=t.n(b),E=t(90629),N=t(95616),A=t(62687),O=t(57678),S=t(16533),k=t(18377),I=t(15861),H=t(67720),M=t(65071),R=t(29740),L=t(53219),P=t(17358),V=function(n){var e=n.app,t=n.showDefaultListWarning;return(0,u.jsxs)(k.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,u.jsxs)(k.Z,{sx:{display:"flex",mb:4},children:[(0,u.jsx)(P.Z,{src:e.iconUrl,alt:e.name,width:90,height:90}),(0,u.jsxs)(k.Z,{sx:{ml:8},children:[(0,u.jsx)(I.Z,{variant:"h3",fontWeight:700,children:e.name}),(0,u.jsx)(I.Z,{variant:"body2",mt:1,children:e.description})]})]}),(0,u.jsx)(H.Z,{}),(0,u.jsxs)(k.Z,{sx:{mt:4},children:[(0,u.jsx)(I.Z,{variant:"body1",children:"Safe App URL"}),(0,u.jsx)(I.Z,{variant:"body2",sx:function(n){var e=n.palette,t=n.shape;return{mt:1,p:1,backgroundColor:e.primary.background,display:"inline-block",borderRadius:t.borderRadius}},fontWeight:700,children:e.url})]}),(0,u.jsxs)(k.Z,{sx:{mt:2},children:[(0,u.jsx)(I.Z,{variant:"body1",children:"Available networks"}),(0,u.jsx)(k.Z,{sx:{display:"flex",gap:1,mt:1,flexWrap:"wrap"},children:e.chainIds.map((function(n){return(0,u.jsx)(M.Z,{chainId:n,inline:!0,renderWhiteSpaceIfNoChain:!1},n)}))})]}),(0,u.jsx)(H.Z,{sx:{mt:4}}),t&&(0,u.jsxs)(k.Z,{sx:{display:"flex",flexDirection:"column",mt:4},children:[(0,u.jsxs)(k.Z,{sx:{mb:4},children:[(0,u.jsxs)(k.Z,{sx:{display:"flex"},children:[(0,u.jsx)(L.Z,{component:R.Z,inheritViewBox:!0,color:"warning.dark"}),(0,u.jsx)(I.Z,{variant:"h5",sx:function(n){return{color:n.palette.warning.dark}},children:"Warning"})]}),(0,u.jsx)(I.Z,{variant:"body1",mt:1,sx:function(n){return{color:n.palette.warning.dark}},children:"The application is not in the default Safe App list"}),(0,u.jsx)(I.Z,{variant:"body2",mt:2,children:"Check the app link and ensure it comes from a trusted source"})]}),(0,u.jsx)(H.Z,{})]})]})},_=t(83321),U="218px",W="186px",D=t(41664),B=t.n(D),T=["title","titleId"];function z(){return z=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},z.apply(this,arguments)}function F(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},a=Object.keys(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var $,G=function(n){var e=n.title,t=n.titleId,u=F(n,T);return f.createElement("svg",z({width:110,height:92,viewBox:"0 0 110 92",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},u),e?f.createElement("title",{id:t},e):null,r||(r=f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",className:"illustration-background-fill",d:"M46 0C71.405 0 92 20.595 92 46C92 71.406 71.405 92.001 46 92.001C20.595 92.001 0 71.406 0 46C0 20.595 20.595 0 46 0Z",fill:"#F6F7F8"})),i||(i=f.createElement("path",{className:"illustration-light-fill",fillRule:"evenodd",clipRule:"evenodd",d:"M26.1364 13C22.7725 13 20 15.7286 20 19.0392V73.3919C20 76.7024 22.7725 79.431 26.1364 79.431H103.864C107.227 79.431 110 76.7024 110 73.3919V19.0392C110 15.7286 107.227 13 103.864 13H26.1364ZM25.9805 16.9078H44.7596C44.8311 16.9316 44.9066 16.9554 44.982 16.9713C46.2292 17.1618 47.2619 17.7968 48.3502 18.908C49.4384 20.0192 50.5108 21.5671 51.6865 23.226C52.5841 24.4921 53.5652 25.8375 54.7368 27.0677H23.9474V18.9397C23.9474 17.7769 24.8172 16.9077 25.981 16.9077L25.9805 16.9078ZM52.3684 16.9077H104.008C105.178 16.9077 106.053 17.7769 106.053 18.9397V27.0677H63.5848C63.457 27.0439 63.3292 27.036 63.2014 27.036C59.7822 26.6669 57.7691 24.1031 55.4683 20.8765C54.5216 19.5509 53.4911 18.1897 52.3687 16.9078L52.3684 16.9077ZM29.0789 20.0339C27.988 20.0339 27.1053 20.9078 27.1053 21.9877C27.1053 23.0677 27.988 23.9416 29.0789 23.9416C30.1699 23.9416 31.0526 23.0677 31.0526 21.9877C31.0526 20.9078 30.1699 20.0339 29.0789 20.0339ZM36.1842 20.0339C35.0933 20.0339 34.2105 20.9078 34.2105 21.9877C34.2105 23.0677 35.0933 23.9416 36.1842 23.9416C37.2751 23.9416 38.1579 23.0677 38.1579 21.9877C38.1579 20.9078 37.2751 20.0339 36.1842 20.0339ZM43.2895 20.0339C42.1985 20.0339 41.3158 20.9078 41.3158 21.9877C41.3158 23.0677 42.1985 23.9416 43.2895 23.9416C44.3804 23.9416 45.2632 23.0677 45.2632 21.9877C45.2632 20.9078 44.3804 20.0339 43.2895 20.0339ZM23.9474 30.9755H105.263V73.4984C105.263 74.6572 104.394 75.5233 103.23 75.5233H25.9803C24.8169 75.5233 23.9474 74.6572 23.9474 73.4984V30.9755Z",fill:"#B2BBC0"})),a||(a=f.createElement("path",{className:"illustration-main-fill",d:"M96.1 76.8C96 77 95.8 77.2 95.5 77.2H91.8L93.8 81.8C93.9 82.1 93.8 82.5 93.5 82.6L91.8 83.3C91.5 83.4 91.1 83.3 91 83L89 78.7L86 81.7C85.9 81.8 85.7 81.9 85.6 81.9C85.5 81.9 85.4 81.9 85.4 81.9C85.2 81.8 85 81.6 85 81.3V66.6C85 66.3 85.2 66.1 85.4 66C85.5 66 85.6 66 85.6 66C85.8 66 85.9 66.1 86 66.2L96 76.2C96.2 76.3 96.2 76.6 96.1 76.8Z",fill:"#008C73"})),l||(l=f.createElement("path",{className:"illustration-main-fill",fillRule:"evenodd",clipRule:"evenodd",d:"M61.4999 40.3333H55.6666C54.3779 40.3333 53.3333 41.378 53.3333 42.6666V48.5C53.3333 49.7886 54.3779 50.8333 55.6666 50.8333H61.4999C62.7886 50.8333 63.8333 49.7886 63.8333 48.5V42.6666C63.8333 41.378 62.7886 40.3333 61.4999 40.3333ZM55.6666 48.5V42.6666H61.4999V48.5H55.6666Z",fill:"#008C73"})),c||(c=f.createElement("path",{className:"illustration-main-fill",fillRule:"evenodd",clipRule:"evenodd",d:"M74.3332 53.1666H68.4998C67.2112 53.1666 66.1665 54.2113 66.1665 55.5V61.3333C66.1665 62.622 67.2112 63.6666 68.4998 63.6666H74.3332C75.6218 63.6666 76.6665 62.622 76.6665 61.3333V55.5C76.6665 54.2113 75.6218 53.1666 74.3332 53.1666ZM68.4998 61.3333V55.5H74.3332V61.3333H68.4998Z",fill:"#008C73"})),s||(s=f.createElement("path",{className:"illustration-main-fill",fillRule:"evenodd",clipRule:"evenodd",d:"M76.6665 45.5833C76.6665 48.4828 74.316 50.8333 71.4165 50.8333C68.517 50.8333 66.1665 48.4828 66.1665 45.5833C66.1665 42.6838 68.517 40.3333 71.4165 40.3333C74.316 40.3333 76.6665 42.6838 76.6665 45.5833ZM68.4998 45.5833C68.4998 47.1941 69.8057 48.5 71.4165 48.5C73.0273 48.5 74.3332 47.1941 74.3332 45.5833C74.3332 43.9725 73.0273 42.6666 71.4165 42.6666C69.8057 42.6666 68.4998 43.9725 68.4998 45.5833Z",fill:"#008C73"})),o||(o=f.createElement("path",{className:"illustration-main-fill",fillRule:"evenodd",clipRule:"evenodd",d:"M58.5848 60.0021L55.2424 63.3445C54.8084 63.7785 54.0991 63.7785 53.6639 63.3445L53.6592 63.3387C53.2252 62.9047 53.2252 62.1942 53.6592 61.759L57.0006 58.4177L53.6597 55.0763C53.2257 54.6423 53.2257 53.9318 53.6597 53.4978L53.6644 53.492C54.0995 53.058 54.8089 53.058 55.2429 53.492L58.5848 56.8335L61.9262 53.492C62.3602 53.058 63.0707 53.058 63.5047 53.492L63.5106 53.4978C63.9446 53.9318 63.9446 54.6423 63.5106 55.0763L60.1692 58.4177L63.511 61.759C63.945 62.1942 63.945 62.9047 63.511 63.3387L63.5052 63.3445C63.0712 63.7785 62.3607 63.7785 61.9267 63.3445L58.5848 60.0021Z",fill:"#008C73"})))},q=function(n){var e=n.demoUrl,t=n.onClick;return(0,u.jsxs)(v.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",height:U,children:[(0,u.jsx)(I.Z,{variant:"h5",fontWeight:700,children:"Try the Safe App before using it"}),(0,u.jsx)(G,{alt:"An icon of a internet browser"}),(0,u.jsx)(B(),{href:e,passHref:!0,children:(0,u.jsx)(_.Z,{variant:"outlined",sx:{width:W},onClick:t,children:"Try demo"})})]})},X=t(29815),Y=t(18972),K=t(18360),Q=t(86886),J=t(94054),nn=t(47312),en=t(89336),tn=t(74604),rn=t(81252),an=t(46514),ln=t(41117),cn=t(94199),sn=t(65136),on=t(90551),un=t(71330),fn=["title","titleId"];function dn(){return dn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dn.apply(this,arguments)}function hn(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},a=Object.keys(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var pn=function(n){var e=n.title,t=n.titleId,r=hn(n,fn);return f.createElement("svg",dn({xmlns:"http://www.w3.org/2000/svg",width:114,height:92,viewBox:"0 0 114 92","aria-labelledby":t},r),e?f.createElement("title",{id:t},e):null,$||($=f.createElement("g",{fill:"none",fillRule:"evenodd"},f.createElement("g",null,f.createElement("g",null,f.createElement("g",null,f.createElement("path",{className:"illustration-background-fill",fill:"#F6F7F8",d:"M59.004 0c25.405 0 46 20.595 46 46 0 25.406-20.595 46-46 46s-46-20.594-46-46c0-25.405 20.595-46 46-46",transform:"translate(-796 -178) translate(796 178)"}),f.createElement("path",{className:"illustration-main-fill",fill:"#008C73",d:"M26 30.002H16v-10c0-1.105-.896-2-2-2s-2 .895-2 2v10H2c-1.104 0-2 .896-2 2s.896 2 2 2h10v10c0 1.104.896 2 2 2s2-.896 2-2v-10h10c1.104 0 2-.896 2-2s-.896-2-2-2",transform:"translate(-796 -178) translate(796 178)"}),f.createElement("path",{className:"illustration-light-fill",fill:"#B2B5B2",d:"M109.991 66.798c0 1.22-.992 2.211-2.211 2.211H41.202c-1.218 0-2.211-.992-2.211-2.21v-48.58c0-1.218.993-2.21 2.211-2.21h66.578c1.219 0 2.211.992 2.211 2.21V66.8zm-14 9.2h8V73.01h-8V76zm-50.996.006h8V73.01h-8v2.995zm62.785-63.996H41.202c-3.424 0-6.211 2.787-6.211 6.211V66.8c0 3.353 2.676 6.09 6.004 6.2v5.005c0 1.105.896 2 2 2h12c1.105 0 2-.895 2-2V73.01h34.996V78c0 1.104.896 2 2 2h12c1.104 0 2-.896 2-2v-5c3.327-.114 6-2.847 6-6.2v-48.58c0-3.424-2.786-6.21-6.211-6.21z",transform:"translate(-796 -178) translate(796 178)"}),f.createElement("path",{className:"illustration-main-fill",fill:"#008C73",d:"M84.995 26.006c8.822 0 16 7.178 16 16 0 8.823-7.178 16-16 16s-16-7.177-16-16c0-8.822 7.178-16 16-16zm1.793 4.133c-.001.948-.738 1.732-1.675 1.808l-.15.006c-.956 0-1.74-.736-1.816-1.673l-.006-.131c-1.954.304-3.753 1.081-5.277 2.21l-.032-.03c.54.477.743 1.224.53 1.902l-.053.144c-.273.667-.912 1.104-1.594 1.125l-.146-.001c-.435.007-.855-.143-1.184-.42l-.111-.102c-1.093 1.507-1.844 3.278-2.14 5.197h-.016c.957 0 1.741.736 1.817 1.673l.006.15c0 .956-.737 1.74-1.673 1.817l-.136.006c.296 1.947 1.062 3.742 2.178 5.265.682-.59 1.679-.591 2.357-.029l.124.112c.636.633.712 1.627.179 2.371l-.095.121c1.524 1.127 3.322 1.902 5.275 2.204l.003.054c-.056-.635.223-1.248.727-1.624l.131-.089c.587-.362 1.329-.362 1.916 0 .542.335.866.925.867 1.52l-.006.147c1.962-.295 3.77-1.067 5.302-2.193l-.024-.023c-.658-.688-.672-1.755-.058-2.458l.115-.12c.687-.658 1.754-.671 2.45-.065l.093.09c1.12-1.522 1.89-3.317 2.19-5.264l.036.001c-1.007 0-1.823-.816-1.823-1.823 0-.956.737-1.74 1.674-1.817l.116-.005c-.298-1.96-1.072-3.766-2.2-5.295l-.012.012c-.299.292-.686.472-1.093.515l-.176.01c-.49.01-.963-.182-1.304-.528-.342-.34-.534-.803-.534-1.285 0-.429.152-.841.425-1.166l.12-.129c-1.531-1.124-3.338-1.895-5.297-2.19z",transform:"translate(-796 -178) translate(796 178)"}),f.createElement("path",{className:"illustration-main-fill",fill:"#008C73",d:"M84.995 39.006c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3m0 10c-3.86 0-7-3.141-7-7 0-3.86 3.14-7 7-7 3.859 0 7 3.14 7 7 0 3.859-3.141 7-7 7",transform:"translate(-796 -178) translate(796 178)"}),f.createElement("path",{className:"illustration-light-fill",fill:"#B2B5B2",d:"M46.996 61.002c-1.104 0-2-.896-2-2v-33c0-1.105.896-2 2-2s2 .895 2 2v33c0 1.104-.896 2-2 2M55 61.002c-1.104 0-2-.896-2-2v-33c0-1.105.896-2 2-2s2 .895 2 2v33c0 1.104-.896 2-2 2",transform:"translate(-796 -178) translate(796 178)"})))))))},vn=function(n){var e=n.wallet,t=n.onConnectWallet,r=n.chain,i=n.appUrl,a=n.app,l=(0,an.Z)(),c=(0,un.Z)(),s=(0,en.CG)(tn.Ky),o=(0,en.CG)(rn.KL),d=a.chainIds,h=(0,f.useMemo)((function(){return mn(c,d,o.data)}),[c,d,o.data]),p=(0,f.useState)(),m=p[0],x=p[1];(0,f.useEffect)((function(){var n=xn(h,r.chainId,l);n&&x(n)}),[h,r.chainId,l]);var C,g,Z=!!e,j=h.length>0;switch(!0){case Z&&j&&!!m:var y="".concat(null===m||void 0===m?void 0:m.shortName,":").concat(null===m||void 0===m?void 0:m.address),b={pathname:on.$.apps.open,query:{safe:y,appUrl:i}};C=(0,u.jsx)(B(),{href:b,passHref:!0,children:(0,u.jsx)(_.Z,{variant:"contained",sx:{width:W},disabled:!m,children:"Use app"})});break;case Z&&!j:var w="".concat(on.$.apps.index,"?appUrl=").concat(i),E={pathname:on.$.newSafe.create,query:{safeViewRedirectURL:w,chain:r.shortName}};C=(0,u.jsx)(B(),{href:E,passHref:!0,children:(0,u.jsx)(_.Z,{variant:"contained",sx:{width:W},children:"Create new Safe Account"})});break;default:C=(0,u.jsx)(_.Z,{onClick:t,variant:"contained",sx:{width:W},children:"Connect wallet"})}return g=Z&&j?(0,u.jsxs)(J.Z,{children:[(0,u.jsx)(nn.Z,{id:"safe-select-label",children:"Select a Safe Account"}),(0,u.jsx)(K.Z,{labelId:"safe-select-label",value:(null===m||void 0===m?void 0:m.address)||"",onChange:function(n){var e=h.find((function(e){return e.address===n.target.value}));x(e)},autoWidth:!0,label:"Select a Safe Account",sx:function(n){var e=n.spacing;return{width:"311px",minHeight:"56px",".MuiSelect-select":{padding:"".concat(e(1)," ").concat(e(2))}}},children:h.map((function(n){var e,t=n.address,r=n.chainId,i=n.shortName;return(0,u.jsx)(Y.Z,{value:t,children:(0,u.jsxs)(Q.ZP,{container:!0,alignItems:"center",gap:1,children:[(0,u.jsx)(cn.Z,{address:t}),(0,u.jsxs)(Q.ZP,{item:!0,xs:!0,children:[(0,u.jsx)(I.Z,{variant:"body2",children:null===s||void 0===s||null===(e=s[r])||void 0===e?void 0:e[t]}),(0,u.jsx)(sn.Z,{address:t,showAvatar:!1,showName:!1,prefix:i})]})]})},"".concat(r,":").concat(t))}))})]}):(0,u.jsx)(pn,{alt:"An icon of a physical safe with a plus sign"}),(0,u.jsxs)(v.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",fontWeight:700,height:U,children:[(0,u.jsx)(I.Z,{variant:"h5",fontWeight:700,children:"Use the App with your Safe Account"}),g,C]})},mn=function(n,e,t){return e.reduce((function(e,r){var i=t.find((function(n){return n.chainId===r}));return(0,X.Z)(e).concat((0,X.Z)((n[r]||[]).map((function(n){return{address:n,chainId:r,shortName:null===i||void 0===i?void 0:i.shortName}}))))}),[])},xn=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=n.find((function(n){return n.address===(0,ln.Gz)(t).address}));if(r)return r;var i=n.find((function(n){return n.chainId===e}));return i||n[0]},Cn=t(61329),gn=t(8002),Zn=t(1083),jn=t(9434),yn=function(n){var e=n.appUrl,t=n.chain,r=(0,S.Y)(e,t.chainId),i=r.safeApp,a=r.isLoading,l=(0,y.Z)((0,O.H)(e,t.chainId),3),c=l[0],s=l[2],o=(0,Cn.Z)(),d=(0,Zn.ZP)(),h="1"===t.chainId||!!(null===c||void 0===c?void 0:c.chainIds.includes("1"));(0,f.useEffect)((function(){if(!a&&!s&&(null===i||void 0===i?void 0:i.chainIds.length)){var n=c?c.name:i.url;(0,A.vQ)((0,j.Z)((0,Z.Z)({},A.Lh.SHARED_APP_LANDING),{label:t.chainId}),n)}}),[a,c,i,s,t]);var p=function(){var n=(0,g.Z)(w().mark((function n(){return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d){n.next=2;break}return n.abrupt("return");case 2:(0,A.zj)(A.IM.OPEN_ONBOARD),d.connectWallet().catch((function(n){return(0,jn.H)(jn.D1._302,n)}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return a||s?(0,u.jsx)(v.Z,{py:4,textAlign:"center",children:(0,u.jsx)(m.Z,{size:40})}):i?(0,u.jsx)(N.Z,{container:!0,children:(0,u.jsx)(N.Z,{sm:12,md:12,lg:8,lgOffset:2,xl:6,xlOffset:3,children:(0,u.jsxs)(E.Z,{sx:{p:6},children:[(0,u.jsx)(V,{app:c||i,showDefaultListWarning:!c}),(0,u.jsxs)(N.Z,{container:!0,sx:{mt:4},rowSpacing:{xs:2,sm:2},children:[(0,u.jsx)(N.Z,{xs:12,sm:12,md:h?6:12,children:(0,u.jsx)(vn,{appUrl:e,wallet:o,onConnectWallet:p,chain:t,app:c||i})}),h&&(0,u.jsx)(N.Z,{xs:12,sm:12,md:6,children:(0,u.jsx)(q,{demoUrl:{pathname:on.$.apps.open,query:{safe:gn.uH,appUrl:e}},onClick:function(){(0,A.vQ)(A.Lh.SHARED_APP_OPEN_DEMO,c?c.name:e)}})})]})]})})}):(0,u.jsx)("div",{children:"No Safe App found"})},bn=function(){var n=(0,p.useRouter)(),e=(0,x.P)(),t=function(){var n=(0,p.useRouter)(),e=n.query.chain,t=(0,C.ZP)(),r=t.configs,i=t.error,a=t.loading,l=(0,f.useMemo)((function(){return r.find((function(n){return n.shortName===e}))}),[e,r]);return{chain:l,validChain:!!l,loading:!n.isReady||0==r.length||Boolean(a),error:i}}(),r=t.chain,i=t.validChain,a=t.loading,l=t.error;if((0,f.useEffect)((function(){a||!n.isReady||e&&i&&r||n.push(on.$.index)}),[e,i,r,a,n]),a)return(0,u.jsx)(v.Z,{py:4,textAlign:"center",children:(0,u.jsx)(m.Z,{size:40})});if(!e||!i||!r)return null;if(l)throw new Error(l);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h(),{children:(0,u.jsx)("title",{children:"Safe Apps \u2013 Share"})}),(0,u.jsx)("main",{children:(0,u.jsx)(yn,{appUrl:e,chain:r})})]})}},73816:function(n,e,t){"use strict";t.d(e,{Cw:function(){return u}});var r=t(47568),i=t(34051),a=t.n(i),l=t(65934),c=t(18831),s=function(n,e){var t=e.icons,r=void 0===t?[]:t,i=e.iconPath,a=void 0===i?"":i,c=r.length?function(n){var e=n.find((function(n){var e;return(null===n||void 0===n||null===(e=n.sizes)||void 0===e?void 0:e.includes("any"))||"image/svg+xml"===(null===n||void 0===n?void 0:n.type)}));if(e)return e.src;var t=!0,r=!1,i=void 0;try{for(var a,l=n[Symbol.iterator]();!(t=(a=l.next()).done);t=!0){var c=a.value,s=!0,o=!1,u=void 0;try{for(var f,d=c.sizes.split(" ")[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var h=f.value;if(Number(h.split("x")[0])>=128)return c.src}}catch(p){o=!0,u=p}finally{try{s||null==d.return||d.return()}finally{if(o)throw u}}}}catch(p){r=!0,i=p}finally{try{t||null==l.return||l.return()}finally{if(r)throw i}}return n[0].src||""}(r):a;return c.startsWith("https://")?c:"".concat(n).concat((0,l.j3)(c)?"":"/").concat(c)},o=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r,i,c,s,o,u=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:5e3,r=(0,l.Os)(e),i="".concat(r,"/manifest.json"),c=new AbortController,s=setTimeout((function(){return c.abort()}),t),n.next=7,fetch(i,{signal:c.signal});case 7:if(o=n.sent,clearTimeout(s),o.ok){n.next=11;break}throw new Error("Failed to fetch manifest from ".concat(i));case 11:return n.abrupt("return",o.json());case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),u=function(){var n=(0,r.Z)(a().mark((function n(e,t){var r,i,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,l.Os)(e),n.next=3,o(e);case 3:if(i=n.sent,null!=(a=i)&&"object"===typeof a&&"name"in a&&"description"in a&&("icons"in a||"iconPath"in a)){n.next=6;break}throw new Error("Invalid Safe App manifest");case 6:return u=s(r,i),n.abrupt("return",{id:Math.random(),url:r,name:i.name,description:i.description,accessControl:{type:c.SafeAppAccessPolicyTypes.NoRestrictions},tags:[],features:[],socialProfiles:[],developerWebsite:"",chainIds:[t],iconUrl:u,safeAppsPermissions:i.safe_apps_permissions||[]});case 8:case"end":return n.stop()}var a}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},function(n){n.O(0,[7094,9774,2888,179],(function(){return e=18259,n(n.s=e);var e}));var e=n.O();_N_E=e}]);
//# sourceMappingURL=safe-app-c61fbc23713b5979.js.map